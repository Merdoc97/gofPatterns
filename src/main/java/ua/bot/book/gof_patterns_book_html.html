<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gof_patterns_book_html</title>
  <style>
  @font-face {
  font-family: octicons-link;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff');
}

.markdown-body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom;
}

.markdown-body .anchor {
  float: left;
  line-height: 1;
  margin-left: -20px;
  padding-right: 4px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #1b1f23;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #24292e;
  line-height: 1.5;
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.markdown-body .pl-c {
  color: #6a737d;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #005cc5;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #6f42c1;
}

.markdown-body .pl-s .pl-s1,
.markdown-body .pl-smi {
  color: #24292e;
}

.markdown-body .pl-ent {
  color: #22863a;
}

.markdown-body .pl-k {
  color: #d73a49;
}

.markdown-body .pl-pds,
.markdown-body .pl-s,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre {
  color: #032f62;
}

.markdown-body .pl-smw,
.markdown-body .pl-v {
  color: #e36209;
}

.markdown-body .pl-bu {
  color: #b31d28;
}

.markdown-body .pl-ii {
  background-color: #b31d28;
  color: #fafbfc;
}

.markdown-body .pl-c2 {
  background-color: #d73a49;
  color: #fafbfc;
}

.markdown-body .pl-c2:before {
  content: "^M";
}

.markdown-body .pl-sr .pl-cce {
  color: #22863a;
  font-weight: 700;
}

.markdown-body .pl-ml {
  color: #735c0f;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  color: #005cc5;
  font-weight: 700;
}

.markdown-body .pl-mi {
  color: #24292e;
  font-style: italic;
}

.markdown-body .pl-mb {
  color: #24292e;
  font-weight: 700;
}

.markdown-body .pl-md {
  background-color: #ffeef0;
  color: #b31d28;
}

.markdown-body .pl-mi1 {
  background-color: #f0fff4;
  color: #22863a;
}

.markdown-body .pl-mc {
  background-color: #ffebda;
  color: #e36209;
}

.markdown-body .pl-mi2 {
  background-color: #005cc5;
  color: #f6f8fa;
}

.markdown-body .pl-mdr {
  color: #6f42c1;
  font-weight: 700;
}

.markdown-body .pl-ba {
  color: #586069;
}

.markdown-body .pl-sg {
  color: #959da5;
}

.markdown-body .pl-corl {
  color: #032f62;
  text-decoration: underline;
}

.markdown-body details {
  display: block;
}

.markdown-body summary {
  display: list-item;
}

.markdown-body a {
  background-color: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline-width: 0;
}

.markdown-body strong {
  font-weight: inherit;
  font-weight: bolder;
}

.markdown-body h1 {
  font-size: 2em;
  margin: .67em 0;
}

.markdown-body img {
  border-style: none;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace,monospace;
  font-size: 1em;
}

.markdown-body hr {
  box-sizing: content-box;
  height: 0;
  overflow: visible;
}

.markdown-body input {
  font: inherit;
  margin: 0;
}

.markdown-body input {
  overflow: visible;
}

.markdown-body [type=checkbox] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body * {
  box-sizing: border-box;
}

.markdown-body input {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.markdown-body a {
  color: #0366d6;
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body strong {
  font-weight: 600;
}

.markdown-body hr {
  background: transparent;
  border: 0;
  border-bottom: 1px solid #dfe2e5;
  height: 0;
  margin: 15px 0;
  overflow: hidden;
}

.markdown-body hr:before {
  content: "";
  display: table;
}

.markdown-body hr:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body details summary {
  cursor: pointer;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body h1 {
  font-size: 32px;
}

.markdown-body h1,
.markdown-body h2 {
  font-weight: 600;
}

.markdown-body h2 {
  font-size: 24px;
}

.markdown-body h3 {
  font-size: 20px;
}

.markdown-body h3,
.markdown-body h4 {
  font-weight: 600;
}

.markdown-body h4 {
  font-size: 16px;
}

.markdown-body h5 {
  font-size: 14px;
}

.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
}

.markdown-body h6 {
  font-size: 12px;
}

.markdown-body p {
  margin-bottom: 10px;
  margin-top: 0;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ol,
.markdown-body ul {
  margin-bottom: 0;
  margin-top: 0;
  padding-left: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ol ol ol,
.markdown-body ol ul ol,
.markdown-body ul ol ol,
.markdown-body ul ul ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre {
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body input::-webkit-inner-spin-button,
.markdown-body input::-webkit-outer-spin-button {
  -webkit-appearance: none;
  appearance: none;
  margin: 0;
}

.markdown-body .border {
  border: 1px solid #e1e4e8!important;
}

.markdown-body .border-0 {
  border: 0!important;
}

.markdown-body .border-bottom {
  border-bottom: 1px solid #e1e4e8!important;
}

.markdown-body .rounded-1 {
  border-radius: 3px!important;
}

.markdown-body .bg-white {
  background-color: #fff!important;
}

.markdown-body .bg-gray-light {
  background-color: #fafbfc!important;
}

.markdown-body .text-gray-light {
  color: #6a737d!important;
}

.markdown-body .mb-0 {
  margin-bottom: 0!important;
}

.markdown-body .my-2 {
  margin-bottom: 8px!important;
  margin-top: 8px!important;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .py-0 {
  padding-bottom: 0!important;
  padding-top: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .py-2 {
  padding-bottom: 8px!important;
  padding-top: 8px!important;
}

.markdown-body .pl-3,
.markdown-body .px-3 {
  padding-left: 16px!important;
}

.markdown-body .px-3 {
  padding-right: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .f6 {
  font-size: 12px!important;
}

.markdown-body .lh-condensed {
  line-height: 1.25!important;
}

.markdown-body .text-bold {
  font-weight: 600!important;
}

.markdown-body:before {
  content: "";
  display: table;
}

.markdown-body:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body>:first-child {
  margin-top: 0!important;
}

.markdown-body>:last-child {
  margin-bottom: 0!important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body blockquote,
.markdown-body dl,
.markdown-body ol,
.markdown-body p,
.markdown-body pre,
.markdown-body table,
.markdown-body ul {
  margin-bottom: 16px;
  margin-top: 0;
}

.markdown-body hr {
  background-color: #e1e4e8;
  border: 0;
  height: .25em;
  margin: 24px 0;
  padding: 0;
}

.markdown-body blockquote {
  border-left: .25em solid #dfe2e5;
  color: #6a737d;
  padding: 0 1em;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #c6cbd1;
  border-bottom-color: #959da5;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #959da5;
  color: #444d56;
  display: inline-block;
  font-size: 11px;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
  line-height: 1.25;
  margin-bottom: 16px;
  margin-top: 24px;
}

.markdown-body h1 {
  font-size: 2em;
}

.markdown-body h1,
.markdown-body h2 {
  border-bottom: 1px solid #eaecef;
  padding-bottom: .3em;
}

.markdown-body h2 {
  font-size: 1.5em;
}

.markdown-body h3 {
  font-size: 1.25em;
}

.markdown-body h4 {
  font-size: 1em;
}

.markdown-body h5 {
  font-size: .875em;
}

.markdown-body h6 {
  color: #6a737d;
  font-size: .85em;
}

.markdown-body ol,
.markdown-body ul {
  padding-left: 2em;
}

.markdown-body ol ol,
.markdown-body ol ul,
.markdown-body ul ol,
.markdown-body ul ul {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body li {
  word-wrap: break-all;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body li+li {
  margin-top: .25em;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
  margin-top: 16px;
  padding: 0;
}

.markdown-body dl dd {
  margin-bottom: 16px;
  padding: 0 16px;
}

.markdown-body table {
  display: block;
  overflow: auto;
  width: 100%;
}

.markdown-body table th {
  font-weight: 600;
}

.markdown-body table td,
.markdown-body table th {
  border: 1px solid #dfe2e5;
  padding: 6px 13px;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #c6cbd1;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f6f8fa;
}

.markdown-body img {
  background-color: #fff;
  box-sizing: content-box;
  max-width: 100%;
}

.markdown-body img[align=right] {
  padding-left: 20px;
}

.markdown-body img[align=left] {
  padding-right: 20px;
}

.markdown-body code {
  background-color: rgba(27,31,35,.05);
  border-radius: 3px;
  font-size: 85%;
  margin: 0;
  padding: .2em .4em;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre>code {
  background: transparent;
  border: 0;
  font-size: 100%;
  margin: 0;
  padding: 0;
  white-space: pre;
  word-break: normal;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body .highlight pre,
.markdown-body pre {
  background-color: #f6f8fa;
  border-radius: 3px;
  font-size: 85%;
  line-height: 1.45;
  overflow: auto;
  padding: 16px;
}

.markdown-body pre code {
  background-color: transparent;
  border: 0;
  display: inline;
  line-height: inherit;
  margin: 0;
  max-width: auto;
  overflow: visible;
  padding: 0;
  word-wrap: normal;
}

.markdown-body .commit-tease-sha {
  color: #444d56;
  display: inline-block;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 90%;
}

.markdown-body .blob-wrapper {
  border-bottom-left-radius: 3px;
  border-bottom-right-radius: 3px;
  overflow-x: auto;
  overflow-y: hidden;
}

.markdown-body .blob-wrapper-embedded {
  max-height: 240px;
  overflow-y: auto;
}

.markdown-body .blob-num {
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  color: rgba(27,31,35,.3);
  cursor: pointer;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  line-height: 20px;
  min-width: 50px;
  padding-left: 10px;
  padding-right: 10px;
  text-align: right;
  user-select: none;
  vertical-align: top;
  white-space: nowrap;
  width: 1%;
}

.markdown-body .blob-num:hover {
  color: rgba(27,31,35,.6);
}

.markdown-body .blob-num:before {
  content: attr(data-line-number);
}

.markdown-body .blob-code {
  line-height: 20px;
  padding-left: 10px;
  padding-right: 10px;
  position: relative;
  vertical-align: top;
}

.markdown-body .blob-code-inner {
  color: #24292e;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  overflow: visible;
  white-space: pre;
  word-wrap: normal;
}

.markdown-body .pl-token.active,
.markdown-body .pl-token:hover {
  background: #ffea7f;
  cursor: pointer;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-bottom-color: #c6cbd1;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #c6cbd1;
  color: #444d56;
  display: inline-block;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body :checked+.radio-label {
  border-color: #0366d6;
  position: relative;
  z-index: 1;
}

.markdown-body .tab-size[data-tab-size="1"] {
  -moz-tab-size: 1;
  tab-size: 1;
}

.markdown-body .tab-size[data-tab-size="2"] {
  -moz-tab-size: 2;
  tab-size: 2;
}

.markdown-body .tab-size[data-tab-size="3"] {
  -moz-tab-size: 3;
  tab-size: 3;
}

.markdown-body .tab-size[data-tab-size="4"] {
  -moz-tab-size: 4;
  tab-size: 4;
}

.markdown-body .tab-size[data-tab-size="5"] {
  -moz-tab-size: 5;
  tab-size: 5;
}

.markdown-body .tab-size[data-tab-size="6"] {
  -moz-tab-size: 6;
  tab-size: 6;
}

.markdown-body .tab-size[data-tab-size="7"] {
  -moz-tab-size: 7;
  tab-size: 7;
}

.markdown-body .tab-size[data-tab-size="8"] {
  -moz-tab-size: 8;
  tab-size: 8;
}

.markdown-body .tab-size[data-tab-size="9"] {
  -moz-tab-size: 9;
  tab-size: 9;
}

.markdown-body .tab-size[data-tab-size="10"] {
  -moz-tab-size: 10;
  tab-size: 10;
}

.markdown-body .tab-size[data-tab-size="11"] {
  -moz-tab-size: 11;
  tab-size: 11;
}

.markdown-body .tab-size[data-tab-size="12"] {
  -moz-tab-size: 12;
  tab-size: 12;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 .2em .25em -1.6em;
  vertical-align: middle;
}

.markdown-body hr {
  border-bottom-color: #eee;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .pl-3 {
  padding-left: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .pl-7 {
  padding-left: 48px!important;
}

.markdown-body .pl-8 {
  padding-left: 64px!important;
}

.markdown-body .pl-9 {
  padding-left: 80px!important;
}

.markdown-body .pl-10 {
  padding-left: 96px!important;
}

.markdown-body .pl-11 {
  padding-left: 112px!important;
}

.markdown-body .pl-12 {
  padding-left: 128px!important;
}

  </style>
  <style>
  /**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #9a6e3a;
	/* This background color was intended by the author of this theme. */
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function,
.token.class-name {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

  </style>
  <style>
  
  </style>
  <style>
    .markdown-body {
      font-family: -apple-system,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
    }

    @media not print {
      .markdown-body {
        padding: 45px;
      }

      @media (max-width: 767px) {
        .markdown-body {
          padding: 15px;
        }
      }
    }

    .hf-container {
      color: #24292e;
      line-height: 1.3;
    }

    .markdown-body .highlight pre,
    .markdown-body pre {
      white-space: pre-wrap;
    }
    .markdown-body table {
      display: table;
    }
    .markdown-body img[data-align="center"] {
      display: block;
      margin: 0 auto;
    }
    .markdown-body img[data-align="right"] {
      display: block;
      margin: 0 0 0 auto;
    }
    .markdown-body li.task-list-item {
      list-style-type: none;
    }
    .markdown-body li > [type=checkbox] {
      margin: 0 0 0 -1.3em;
    }
    .markdown-body input[type="checkbox"] ~ p {
      margin-top: 0;
      display: inline-block;
    }
    .markdown-body ol ol,
    .markdown-body ul ol {
      list-style-type: decimal;
    }
    .markdown-body ol ol ol,
    .markdown-body ol ul ol,
    .markdown-body ul ol ol,
    .markdown-body ul ul ol {
      list-style-type: decimal;
    }
  </style>
  <style>.markdown-body a.footnote-ref {
  text-decoration: none;
}

.footnotes {
  font-size: .85em;
  opacity: .8;
}

.footnotes li[role="doc-endnote"] {
  position: relative;
}

.footnotes .footnote-back {
  position: absolute;
  font-family: initial;
  top: .2em;
  right: 1em;
  text-decoration: none;
}

.inline-math.invalid,
.multiple-math.invalid {
  color: rgb(255, 105, 105);
}

.toc-container {
  width: 100%;
}

.toc-container .toc-title {
  font-weight: 700;
  font-size: 1.2em;
  margin-bottom: 0;
}

.toc-container li,
.toc-container ul,
.toc-container ul li {
  list-style: none !important;
}

.toc-container > ul {
  padding-left: 0;
}

.toc-container ul li span {
  display : flex;
}

.toc-container ul li span a {
  color: inherit;
  text-decoration: none;
}
.toc-container ul li span a:hover {
  color: inherit;
  text-decoration: none;
}

.toc-container ul li span span.dots {
  flex: 1;
  height: 0.65em;
  margin: 0 10px;
  border-bottom: 2px dotted black;
}
</style>
  
  
</head>
<body>
  <article class="markdown-body"><p><img alt="cover" src="design_patterns_cover.png"></p>
<h1 class="atx" id="design-patterns-in-java-a-comprehensive-guide">Design Patterns in Java: A Comprehensive Guide</h1>
<pre><code class="fenced-code-block"> ____            _                ____       _   _                     
|  _ \  ___  ___(_) __ _ _ __    |  _ \ __ _| |_| |_ ___ _ __ _ __  ___ 
| | | |/ _ \/ __| |/ _` | '_ \   | |_) / _` | __| __/ _ \ '__| '_ \/ __|
| |_| |  __/\__ \ | (_| | | | |  |  __/ (_| | |_| ||  __/ |  | | | \__ \
|____/ \___||___/_|\__, |_| |_|  |_|   \__,_|\__|\__\___|_|  |_| |_|___/
                   |___/                                                </code></pre>
<h2 class="atx" id="author">Author</h2>
<p><strong>I. Artyomov</strong> (aka merdoc)</p>
<h2 class="atx" id="introduction">Introduction</h2>
<p>Welcome to "Design Patterns in Java: A Comprehensive Guide." This book is designed to provide a thorough understanding of the Gang of Four (GoF) design patterns, implemented in Java. Design patterns are proven solutions to common problems that arise during software design and development. They represent best practices evolved over time by experienced software developers.
Code for this book on github <a href="https://github.com/Merdoc97/gofPatterns">https://github.com/Merdoc97/gofPatterns</a></p>
<h3 class="atx" id="who-this-book-is-for">Who This Book Is For</h3>
<p>This book is intended for:</p>
<ol>
<li><p><strong>Software Developers and Engineers</strong>: </p>
<ul>
<li>Those looking to improve their understanding of design patterns and how to implement them in Java</li>
<li>Developers who want to apply these patterns in their own projects</li>
<li>Engineers seeking reference implementations to solve specific design problems</li>
</ul>
</li>
<li><p><strong>Students and Educators</strong>:</p>
<ul>
<li>Computer Science and Software Engineering students learning about design patterns</li>
<li>Instructors teaching software design principles and looking for practical examples</li>
<li>Self-learners following a structured approach to master design patterns</li>
</ul>
</li>
<li><p><strong>Technical Interviewees and Interviewers</strong>:</p>
<ul>
<li>Job candidates preparing for technical interviews that may include design pattern questions</li>
<li>Interviewers looking for standard implementations to compare with candidates' solutions</li>
</ul>
</li>
<li><p><strong>Software Architects</strong>:</p>
<ul>
<li>Professionals responsible for designing software systems</li>
<li>Architects looking to evaluate different design patterns for specific scenarios</li>
<li>Team leads who want to establish common design vocabulary and practices</li>
</ul>
</li>
<li><p><strong>Code Reviewers</strong>:</p>
<ul>
<li>Developers responsible for reviewing others' code and suggesting improvements</li>
<li>Team members looking to establish coding standards based on proven design principles</li>
</ul>
</li>
</ol>
<h2 class="atx" id="how-to-use-this-book">How to Use This Book</h2>
<p>Each pattern in this book is presented with:</p>
<ul>
<li>A clear explanation of the pattern's intent and use cases</li>
<li>UML diagrams illustrating the structure</li>
<li>Java code examples demonstrating implementation</li>
<li>Notes on benefits, drawbacks, and related patterns</li>
</ul>
<p>The patterns are organized into three categories:</p>
<ol>
<li>Creational Patterns: Dealing with object creation mechanisms</li>
<li>Structural Patterns: Concerned with object composition</li>
<li>Behavioral Patterns: Focused on communication between objects</li>
</ol>
<h2 class="atx" id="table-of-contents">Table of Contents</h2>
<h3 class="atx" id="1-introduction-to-design-patterns"><a href="#introduction-to-design-patterns">1. Introduction to Design Patterns</a></h3>
<ul>
<li><a href="#what-are-design-patterns">What are Design Patterns?</a> </li>
<li><a href="#history-of-gof-patterns">History of GoF Patterns</a></li>
<li><a href="#pattern-categories">Pattern Categories</a></li>
<li><a href="#when-to-use-design-patterns">When to Use Design Patterns</a></li>
</ul>
<h3 class="atx" id="2-creational-patterns"><a href="#creational-design-patterns">2. Creational Patterns</a></h3>
<ul>
<li><a href="#factory-method-pattern">Factory Method</a></li>
<li><a href="#factory-method-pattern">Abstract Factory</a></li>
<li><a href="#builder-pattern">Builder</a></li>
<li><a href="#Prototype-Pattern">Prototype</a></li>
<li><a href="#singleton-pattern">Singleton</a></li>
</ul>
<h3 class="atx" id="3-structural-patterns"><a href="#structural-design-patterns">3. Structural Patterns</a></h3>
<ul>
<li><a href="#adapter-pattern">Adapter</a></li>
<li><a href="#bridge-pattern">Bridge</a></li>
<li><a href="#composite-pattern">Composite</a></li>
<li><a href="#decorator-pattern">Decorator</a></li>
<li><a href="#facade-pattern">Facade</a></li>
<li><a href="#flyweight-pattern">Flyweight</a></li>
<li><a href="#proxy-pattern">Proxy</a></li>
</ul>
<h3 class="atx" id="4-behavioral-patterns"><a href="#behavioral-design-patterns">4. Behavioral Patterns</a></h3>
<ul>
<li><a href="#chain-of-responsibility-pattern">Chain of Responsibility</a></li>
<li><a href="#command-pattern">Command</a></li>
<li><a href="#interpreter-pattern">Interpreter</a></li>
<li><a href="#iterator-pattern">Iterator</a></li>
<li><a href="#mediator-pattern">Mediator</a></li>
<li><a href="#memento-pattern">Memento</a></li>
<li><a href="#observer-pattern">Observer</a></li>
<li><a href="#state-pattern">State</a></li>
<li><a href="#strategy-pattern">Strategy</a></li>
<li><a href="#template-method-pattern">Template Method</a></li>
<li><a href="#visitor-pattern">Visitor</a></li>
</ul>
<h3 class="atx" id="5-conclusion"><a href="#conclusion">5. Conclusion</a></h3>
<ul>
<li>Design Pattern Relationships</li>
<li>Anti-Patterns</li>
<li>Further Reading and Resources</li>
</ul>
<h1 class="atx" id="introduction-to-design-patterns">Introduction to Design Patterns</h1>
<h2 class="atx" id="what-are-design-patterns">What are Design Patterns?</h2>
<p>Design patterns are typical solutions to common problems in software design. They are like pre-made blueprints that you can customize to solve a recurring design problem in your code.</p>
<p>Design patterns are not specific pieces of code, but rather concepts that can be used to handle recurring themes in software architecture. They represent the best practices used by experienced object-oriented software developers and are solutions to general problems that software developers faced during software development.</p>
<p>The patterns typically show relationships and interactions between classes or objects. The idea is to speed up the development process by providing well-tested, proven development paradigms.</p>
<h2 class="atx" id="history-of-gof-patterns">History of GoF Patterns</h2>
<p>The term "Gang of Four" (GoF) refers to the four authors of the book, "Design Patterns: Elements of Reusable Object-Oriented Software":</p>
<ul>
<li>Erich Gamma</li>
<li>Richard Helm</li>
<li>Ralph Johnson</li>
<li>John Vlissides</li>
</ul>
<p>Published in 1994, this book was the first to popularize the concept of design patterns in software engineering. It described 23 patterns that are now considered classic in object-oriented design.</p>
<p>The GoF patterns were inspired by the work of architect Christopher Alexander, who wrote about patterns in buildings and towns, and the idea was adapted to software design. The book became immensely influential and has been cited in countless software engineering texts and courses.</p>
<h2 class="atx" id="pattern-categories">Pattern Categories</h2>
<p>The GoF design patterns are categorized into three main groups:</p>
<h3 class="atx" id="1-creational-patterns">1. Creational Patterns</h3>
<p>These patterns deal with object creation mechanisms, trying to create objects in a manner suitable to the situation. The basic form of object creation could result in design problems or add complexity to the design. Creational patterns solve this problem by controlling the object creation process.</p>
<p>Examples include:</p>
<ul>
<li>Factory Method</li>
<li>Abstract Factory</li>
<li>Builder</li>
<li>Prototype</li>
<li>Singleton</li>
</ul>
<h3 class="atx" id="2-structural-patterns">2. Structural Patterns</h3>
<p>These patterns are concerned with how classes and objects are composed to form larger structures. They help ensure that when parts of a system change, the entire structure doesn't need to change.</p>
<p>Examples include:</p>
<ul>
<li>Adapter</li>
<li>Bridge</li>
<li>Composite</li>
<li>Decorator</li>
<li>Facade</li>
<li>Flyweight</li>
<li>Proxy</li>
</ul>
<h3 class="atx" id="3-behavioral-patterns">3. Behavioral Patterns</h3>
<p>These patterns are concerned with algorithms and the assignment of responsibilities between objects. They describe not just patterns of objects or classes but also the patterns of communication between them.</p>
<p>Examples include:</p>
<ul>
<li>Chain of Responsibility</li>
<li>Command</li>
<li>Interpreter</li>
<li>Iterator</li>
<li>Mediator</li>
<li>Memento</li>
<li>Observer</li>
<li>State</li>
<li>Strategy</li>
<li>Template Method</li>
<li>Visitor</li>
</ul>
<h2 class="atx" id="when-to-use-design-patterns">When to Use Design Patterns</h2>
<p>Design patterns should be applied judiciously, considering their benefits and trade-offs:</p>
<h3 class="atx" id="benefits-of-using-design-patterns">Benefits of Using Design Patterns:</h3>
<ol>
<li><p><strong>Proven Solutions</strong>: Design patterns represent solutions that have been refined over time by many software developers.</p>
</li>
<li><p><strong>Common Vocabulary</strong>: They provide a standard terminology and are specific to particular scenarios, making it easier for developers to communicate design ideas.</p>
</li>
<li><p><strong>Reusability</strong>: By using design patterns, you can make your code more reusable and adaptable to changing requirements.</p>
</li>
<li><p><strong>Abstraction</strong>: Patterns help you think at a higher level of abstraction, focusing on the design rather than implementation details.</p>
</li>
<li><p><strong>Quality</strong>: Implementing well-established design patterns can lead to more robust, maintainable, and scalable code.</p>
</li>
</ol>
<h3 class="atx" id="when-not-to-use-design-patterns">When Not to Use Design Patterns:</h3>
<ol>
<li><p><strong>Simple Problems</strong>: For simple, straightforward problems, using a design pattern might introduce unnecessary complexity.</p>
</li>
<li><p><strong>Unfamiliarity</strong>: If you or your team are not familiar with a pattern, implementing it incorrectly could lead to more problems than it solves.</p>
</li>
<li><p><strong>Performance Concerns</strong>: Some patterns introduce additional layers of abstraction, which might impact performance in performance-critical applications.</p>
</li>
<li><p><strong>Overuse</strong>: Using patterns for the sake of using patterns can lead to over-engineered solutions. Always consider if a simpler approach would suffice.</p>
</li>
</ol>
<h3 class="atx" id="guidelines-for-using-design-patterns">Guidelines for Using Design Patterns:</h3>
<ol>
<li><p><strong>Understand the Problem</strong>: Before applying a pattern, make sure you fully understand the problem you're trying to solve.</p>
</li>
<li><p><strong>Know the Patterns</strong>: Familiarize yourself with various patterns and their intended uses.</p>
</li>
<li><p><strong>Consider Alternatives</strong>: Always consider simpler alternatives before applying a complex pattern.</p>
</li>
<li><p><strong>Adapt as Needed</strong>: Patterns are guidelines, not rules. Feel free to adapt them to your specific needs.</p>
</li>
<li><p><strong>Document Your Decisions</strong>: When you use a pattern, document why you chose it and how you've implemented it.</p>
</li>
</ol>
<p>In the following chapters, we'll explore each of the GoF design patterns in detail, with Java implementations and practical examples to help you understand when and how to apply them effectively.</p>
<h1 class="atx" id="creational-design-patterns">Creational Design Patterns</h1>
<p>Creational design patterns are concerned with the way objects are created. They reduce complexities and instability by creating objects in a controlled manner.</p>
<p>The main purpose of creational patterns is to create objects in a manner suitable to the situation. The basic approach of object creation could result in design problems or added complexity to the design. Creational design patterns solve this problem by controlling the object creation.</p>
<h2 class="atx" id="patterns-in-this-category">Patterns in This Category</h2>
<h3 class="atx" id="factory-method"><a href="#factory-method-pattern">Factory Method</a></h3>
<p>The Factory Method pattern provides an interface for creating objects in a superclass, but allows subclasses to alter the type of objects that will be created.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Defines an interface for creating an object, but lets subclasses decide which class to instantiate</li>
<li>Refers to the newly created object through a common interface</li>
</ul>
<h3 class="atx" id="abstract-factory"><a href="#factory-method-pattern">Abstract Factory</a></h3>
<p>The Abstract Factory pattern provides an interface for creating families of related or dependent objects without specifying their concrete classes.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Creates families of related objects without specifying their concrete classes</li>
<li>Useful when a system needs to be independent from how its products are created, composed, and represented</li>
</ul>
<h3 class="atx" id="builder"><a href="#builder-pattern">Builder</a></h3>
<p>The Builder pattern separates the construction of a complex object from its representation, allowing the same construction process to create different representations.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Separates the construction of a complex object from its representation</li>
<li>Allows the same construction process to create various representations</li>
<li>Particularly useful when an object needs to be created with many optional components or configurations</li>
</ul>
<h3 class="atx" id="prototype"><a href="#prototype-pattern">Prototype</a></h3>
<p>The Prototype pattern specifies the kinds of objects to create using a prototypical instance, and creates new objects by copying this prototype.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Creates new objects by copying an existing object, known as the prototype</li>
<li>Useful when the cost of creating a new object is more expensive than copying an existing one</li>
<li>Allows adding or removing objects at runtime</li>
</ul>
<h3 class="atx" id="singleton"><a href="#singleton-pattern">Singleton</a></h3>
<p>The Singleton pattern ensures a class has only one instance and provides a global point of access to it.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Ensures a class has only one instance</li>
<li>Provides a global point of access to that instance</li>
<li>Useful for coordinating actions across a system</li>
</ul>
<h2 class="atx" id="when-to-use-creational-patterns">When to Use Creational Patterns</h2>
<p>Consider using creational patterns when:</p>
<ol>
<li>A system should be independent of how its objects are created, composed, and represented</li>
<li>A class wants its subclasses to specify the objects it creates</li>
<li>You want to hide the complexity of creating complex objects</li>
<li>You need to control the creation process of objects</li>
<li>You need to optimize resource usage by reusing existing objects instead of creating new ones</li>
</ol>
<h2 class="atx" id="relationships-between-creational-patterns">Relationships Between Creational Patterns</h2>
<ul>
<li><strong>Factory Method</strong> is often used in frameworks where a class can't anticipate the type of objects it must create</li>
<li><strong>Abstract Factory</strong> is often implemented using Factory Methods, but can also be implemented using Prototype</li>
<li><strong>Builder</strong> focuses on constructing complex objects step by step</li>
<li><strong>Prototype</strong> is useful when you need to avoid subclasses of an object creator in the client application</li>
<li><strong>Singleton</strong> is often used with Abstract Factory, Builder, or Prototype to ensure there's only one factory, builder, or prototype registry</li>
</ul>
<p>In the following sections, we'll explore each of these patterns in detail, with Java implementations and practical examples.</p>
<h1 class="atx" id="factory-method-pattern">Factory Method Pattern</h1>
<p><img alt="Factory Method Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/creation/factory/Factory_Patterns.png"></p>
<h2 class="atx" id="intent">Intent</h2>
<p>The Factory Method pattern defines an interface for creating an object, but lets subclasses decide which class to instantiate. Factory Method lets a class defer instantiation to subclasses.</p>
<h2 class="atx" id="problem">Problem</h2>
<p>You need to create objects without specifying the exact class of object that will be created. You want to delegate the responsibility of instantiating a class to its subclasses.</p>
<h2 class="atx" id="solution">Solution</h2>
<p>The Factory Method pattern suggests defining an interface for creating an object, but letting subclasses decide which class to instantiate. This allows a class to defer instantiation to subclasses.</p>
<h2 class="atx" id="structure">Structure</h2>
<p>The Factory Method pattern consists of:</p>
<ol>
<li><strong>Creator</strong>: Declares the factory method, which returns an object of type Product. Creator may also define a default implementation of the factory method that returns a default ConcreteProduct object.</li>
<li><strong>ConcreteCreator</strong>: Overrides the factory method to return an instance of a ConcreteProduct.</li>
<li><strong>Product</strong>: Defines the interface of objects the factory method creates.</li>
<li><strong>ConcreteProduct</strong>: Implements the Product interface.</li>
</ol>
<h2 class="atx" id="implementation-in-java">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Creator</code> is an abstract class that declares the factory method.</li>
<li><code>ConcreteCreatorA</code> and <code>ConcreteCreatorB</code> extend the <code>Creator</code> class and implement the factory method to return different products.</li>
<li><code>Product</code> is an interface that defines the operations that all products must implement.</li>
<li><code>ConcreteProductA</code> and <code>ConcreteProductB</code> implement the <code>Product</code> interface.</li>
</ul>
<h3 class="atx" id="product-interface">Product Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-products">Concrete Products</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductA</span> <span class="token keyword">implements</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteProductA: Performing operation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductB</span> <span class="token keyword">implements</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteProductB: Performing operation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="creator-abstract-class">Creator Abstract Class</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Creator</span> <span class="token punctuation">{</span>
    <span class="token comment">// Factory method</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Product</span> <span class="token function">createProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Operation that uses the factory method</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">someOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Product</span> product <span class="token operator">=</span> <span class="token function">createProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        product<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-creators">Concrete Creators</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteCreatorA</span> <span class="token keyword">extends</span> <span class="token class-name">Creator</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Product</span> <span class="token function">createProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteCreatorB</span> <span class="token keyword">extends</span> <span class="token class-name">Creator</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Product</span> <span class="token function">createProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FactoryMethodDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create creators</span>
        <span class="token class-name">Creator</span> creatorA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteCreatorA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Creator</span> creatorB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteCreatorB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Use creators to create and use products</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Using ConcreteCreatorA:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        creatorA<span class="token punctuation">.</span><span class="token function">someOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nUsing ConcreteCreatorB:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        creatorB<span class="token punctuation">.</span><span class="token function">someOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use">When to Use</h2>
<p>Use the Factory Method pattern when:</p>
<ol>
<li>A class can't anticipate the class of objects it must create.</li>
<li>A class wants its subclasses to specify the objects it creates.</li>
<li>Classes delegate responsibility to one of several helper subclasses, and you want to localize the knowledge of which helper subclass is the delegate.</li>
<li>You want to provide users of your library or framework with a way to extend its internal components.</li>
<li>You want to save system resources by reusing existing objects instead of rebuilding them each time.</li>
</ol>
<h2 class="atx" id="benefits">Benefits</h2>
<ol>
<li><strong>Loose coupling</strong>: The pattern separates the implementation of the product from its use.</li>
<li><strong>Single Responsibility Principle</strong>: You can move the product creation code into one place in the program, making the code easier to support.</li>
<li><strong>Open/Closed Principle</strong>: You can introduce new types of products into the program without breaking existing client code.</li>
<li><strong>Flexibility</strong>: The pattern provides hooks for subclasses to extend the factory method to create specialized product objects.</li>
<li><strong>Consistency</strong>: Products created by the same creator are compatible with each other.</li>
</ol>
<h2 class="atx" id="drawbacks">Drawbacks</h2>
<ol>
<li><strong>Complexity</strong>: The pattern requires creating many new subclasses, which can increase the complexity of the code.</li>
<li><strong>Refactoring challenges</strong>: Introducing the pattern into an existing hierarchy can be challenging.</li>
<li><strong>Inheritance limitations</strong>: The pattern relies on inheritance, which can limit flexibility in some contexts.</li>
<li><strong>Increased number of classes</strong>: The pattern introduces additional classes, which can make the code more difficult to understand.</li>
</ol>
<h2 class="atx" id="related-patterns">Related Patterns</h2>
<ul>
<li><strong>Abstract Factory</strong>: Factory Method is often used in Abstract Factory implementations.</li>
<li><strong>Template Method</strong>: Factory Method is a specialization of Template Method.</li>
<li><strong>Prototype</strong>: Factory Method can use Prototype to create objects by cloning a prototype instead of creating new instances.</li>
<li><strong>Singleton</strong>: Factory Methods can return a Singleton instance.</li>
</ul>
<h2 class="atx" id="example-in-the-project">Example in the Project</h2>
<p>You can find the complete implementation of the Factory Method pattern in the project:</p>
<ul>
<li><p><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/Product.java">Product Interface</a></p>
</li>
<li><p><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/ConcreteProductA.java">ConcreteProductA</a></p>
</li>
<li><p><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/ConcreteProductB.java">ConcreteProductB</a></p>
</li>
<li><p><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/factorymethod/Creator.java">Creator Abstract Class</a></p>
</li>
<li><p><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/factorymethod/ConcreteCreatorA.java">ConcreteCreatorA</a></p>
</li>
<li><p><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/factorymethod/ConcreteCreatorB.java">ConcreteCreatorB</a></p>
</li>
<li><p><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/factorymethod/FactoryMethodDemo.java">FactoryMethodDemo</a></p>
<h1 class="atx" id="abstract-factory-pattern">Abstract Factory Pattern</h1>
</li>
</ul>
<p><img alt="Abstract Factory Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/creation/factory/Factory_Patterns.png"></p>
<h2 class="atx" id="intent-1">Intent</h2>
<p>The Abstract Factory pattern provides an interface for creating families of related or dependent objects without specifying their concrete classes.</p>
<h2 class="atx" id="problem-1">Problem</h2>
<p>You need to create families of related objects that are designed to work together, and you want to ensure that a client always uses objects from the same family. Additionally, you want to decouple the client code from the concrete classes of the objects it uses.</p>
<h2 class="atx" id="solution-1">Solution</h2>
<p>The Abstract Factory pattern suggests defining an interface (Abstract Factory) with methods for creating each type of product, and then implementing this interface for each family of products. The client code works with factories and products through their abstract interfaces, without being coupled to their concrete implementations.</p>
<h2 class="atx" id="structure-1">Structure</h2>
<p>The Abstract Factory pattern consists of:</p>
<ol>
<li><strong>AbstractFactory</strong>: Declares an interface for operations that create abstract product objects.</li>
<li><strong>ConcreteFactory</strong>: Implements the operations to create concrete product objects.</li>
<li><strong>AbstractProduct</strong>: Declares an interface for a type of product object.</li>
<li><strong>ConcreteProduct</strong>: Defines a product object to be created by the corresponding concrete factory and implements the AbstractProduct interface.</li>
<li><strong>Client</strong>: Uses only interfaces declared by AbstractFactory and AbstractProduct classes.</li>
</ol>
<h2 class="atx" id="implementation-in-java-1">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>AbstractFactory</code> is an interface that declares methods for creating different types of products.</li>
<li><code>ConcreteFactory1</code> and <code>ConcreteFactory2</code> implement the <code>AbstractFactory</code> interface to create products of a specific family.</li>
<li><code>ProductA</code> and <code>ProductB</code> are interfaces that declare the operations that all concrete products must implement.</li>
<li><code>ConcreteProductA1</code>, <code>ConcreteProductA2</code>, <code>ConcreteProductB1</code>, and <code>ConcreteProductB2</code> implement the product interfaces.</li>
</ul>
<h3 class="atx" id="abstract-products">Abstract Products</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ProductA</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">operationA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ProductB</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">operationB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">collaborateWith</span><span class="token punctuation">(</span><span class="token class-name">ProductA</span> productA<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-products-1">Concrete Products</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductA1</span> <span class="token keyword">implements</span> <span class="token class-name">ProductA</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteProductA1: Performing operation A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductA2</span> <span class="token keyword">implements</span> <span class="token class-name">ProductA</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteProductA2: Performing operation A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductB1</span> <span class="token keyword">implements</span> <span class="token class-name">ProductB</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteProductB1: Performing operation B"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">collaborateWith</span><span class="token punctuation">(</span><span class="token class-name">ProductA</span> productA<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteProductB1: Collaborating with "</span> <span class="token operator">+</span> productA<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        productA<span class="token punctuation">.</span><span class="token function">operationA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteProductB2</span> <span class="token keyword">implements</span> <span class="token class-name">ProductB</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteProductB2: Performing operation B"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">collaborateWith</span><span class="token punctuation">(</span><span class="token class-name">ProductA</span> productA<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteProductB2: Collaborating with "</span> <span class="token operator">+</span> productA<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        productA<span class="token punctuation">.</span><span class="token function">operationA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="abstract-factory-1">Abstract Factory</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token class-name">ProductA</span> <span class="token function">createProductA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ProductB</span> <span class="token function">createProductB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-factories">Concrete Factories</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteFactory1</span> <span class="token keyword">implements</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductA</span> <span class="token function">createProductA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductA1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductB</span> <span class="token function">createProductB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductB1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteFactory2</span> <span class="token keyword">implements</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductA</span> <span class="token function">createProductA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductA2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ProductB</span> <span class="token function">createProductB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteProductB2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-1">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">ProductA</span> productA<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">ProductB</span> productB<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token class-name">AbstractFactory</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        productA <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createProductA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        productB <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createProductB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">executeOperations</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        productA<span class="token punctuation">.</span><span class="token function">operationA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        productB<span class="token punctuation">.</span><span class="token function">operationB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        productB<span class="token punctuation">.</span><span class="token function">collaborateWith</span><span class="token punctuation">(</span>productA<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="demo">Demo</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AbstractFactoryDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create and use the first family of products</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Using ConcreteFactory1 (Family 1):"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">AbstractFactory</span> factory1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteFactory1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Client</span> client1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span>factory1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        client1<span class="token punctuation">.</span><span class="token function">executeOperations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create and use the second family of products</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nUsing ConcreteFactory2 (Family 2):"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">AbstractFactory</span> factory2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteFactory2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Client</span> client2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span>factory2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        client2<span class="token punctuation">.</span><span class="token function">executeOperations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-1">When to Use</h2>
<p>Use the Abstract Factory pattern when:</p>
<ol>
<li>A system should be independent of how its products are created, composed, and represented.</li>
<li>A system should be configured with one of multiple families of products.</li>
<li>A family of related product objects is designed to be used together, and you need to enforce this constraint.</li>
<li>You want to provide a class library of products, and you want to reveal just their interfaces, not their implementations.</li>
<li>The lifetime of the dependency is conceptually shorter than the lifetime of the consumer.</li>
</ol>
<h2 class="atx" id="benefits-1">Benefits</h2>
<ol>
<li><strong>Isolation of concrete classes</strong>: The pattern isolates concrete classes, as the factory encapsulates the responsibility and the process of creating product objects.</li>
<li><strong>Exchanging product families easily</strong>: The concrete factory can be changed at runtime, allowing the application to use different product families.</li>
<li><strong>Promoting consistency among products</strong>: When products in a family are designed to work together, the Abstract Factory makes it easy to ensure that a client always uses objects from the same family.</li>
<li><strong>Open/Closed Principle</strong>: You can introduce new variants of products without breaking existing client code.</li>
<li><strong>Single Responsibility Principle</strong>: You can move the product creation code into one place, making the code easier to support.</li>
</ol>
<h2 class="atx" id="drawbacks-1">Drawbacks</h2>
<ol>
<li><strong>Complexity</strong>: The pattern introduces a lot of new interfaces and classes, which can make the code more difficult to understand.</li>
<li><strong>Difficulty in adding new products</strong>: Supporting new kinds of products requires extending the factory interface, which may involve changing all concrete factories.</li>
<li><strong>Dependency on concrete factory implementation</strong>: The client code might become dependent on the specific factory implementation.</li>
<li><strong>Increased number of classes</strong>: The pattern introduces many new classes, which can increase the complexity of the codebase.</li>
</ol>
<h2 class="atx" id="related-patterns-1">Related Patterns</h2>
<ul>
<li><strong>Factory Method</strong>: Abstract Factory is often implemented using Factory Methods.</li>
<li><strong>Singleton</strong>: Abstract Factories are often implemented as Singletons.</li>
<li><strong>Prototype</strong>: Abstract Factory can use Prototype to create objects by cloning a prototype instead of creating new instances.</li>
<li><strong>Flyweight</strong>: Concrete factories can use Flyweight to reduce the number of created objects.</li>
</ul>
<h2 class="atx" id="example-in-the-project-1">Example in the Project</h2>
<p>You can find the complete implementation of the Abstract Factory pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/abstractfactory/AbstractFactory.java">AbstractFactory Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/abstractfactory/ConcreteFactory1.java">ConcreteFactory1</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/abstractfactory/ConcreteFactory2.java">ConcreteFactory2</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/abstractfactory/ProductA.java">ProductA Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/abstractfactory/ProductB.java">ProductB Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/abstractfactory/ConcreteProductA1.java">ConcreteProductA1</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/abstractfactory/ConcreteProductA2.java">ConcreteProductA2</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/abstractfactory/ConcreteProductB1.java">ConcreteProductB1</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/abstractfactory/ConcreteProductB2.java">ConcreteProductB2</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/abstractfactory/Client.java">Client</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/factory/abstractfactory/AbstractFactoryDemo.java">AbstractFactoryDemo</a></li>
</ul>
<h1 class="atx" id="builder-pattern">Builder Pattern</h1>
<p><img alt="Builder Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/creation/builder/Builder_Pattern.png"></p>
<h2 class="atx" id="intent-2">Intent</h2>
<p>The Builder pattern separates the construction of a complex object from its representation, allowing the same construction process to create different representations.</p>
<h2 class="atx" id="problem-2">Problem</h2>
<p>You need to create a complex object with many optional components or configurations, but constructors with many parameters become unwieldy and hard to read. Additionally, you want to create different representations of the object using the same construction process.</p>
<h2 class="atx" id="solution-2">Solution</h2>
<p>The Builder pattern suggests separating the construction of a complex object from its representation. It extracts the object construction code out of its own class and moves it to separate objects called builders. The construction process is directed by a director object, which uses a builder to construct the complex object step by step.</p>
<h2 class="atx" id="structure-2">Structure</h2>
<p>The Builder pattern consists of:</p>
<ol>
<li><strong>Builder</strong>: Specifies an abstract interface for creating parts of a Product object.</li>
<li><strong>ConcreteBuilder</strong>: Constructs and assembles parts of the product by implementing the Builder interface, and provides an interface for retrieving the product.</li>
<li><strong>Director</strong>: Constructs an object using the Builder interface.</li>
<li><strong>Product</strong>: Represents the complex object under construction.</li>
</ol>
<h2 class="atx" id="implementation-in-java-2">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Builder</code> is an interface that declares methods for building parts of a product.</li>
<li><code>ConcreteBuilder1</code> and <code>ConcreteBuilder2</code> implement the <code>Builder</code> interface to construct and assemble parts of the product.</li>
<li><code>Director</code> uses a builder to construct the product.</li>
<li><code>Product</code> is the complex object being built.</li>
</ul>
<h3 class="atx" id="builder-interface">Builder Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Builder</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">buildPartA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">buildPartB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">buildPartC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Product</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-builders">Concrete Builders</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteBuilder1</span> <span class="token keyword">implements</span> <span class="token class-name">Builder</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Product</span> product <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildPartA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        product<span class="token punctuation">.</span><span class="token function">addPart</span><span class="token punctuation">(</span><span class="token string">"Part A1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildPartB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        product<span class="token punctuation">.</span><span class="token function">addPart</span><span class="token punctuation">(</span><span class="token string">"Part B1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildPartC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        product<span class="token punctuation">.</span><span class="token function">addPart</span><span class="token punctuation">(</span><span class="token string">"Part C1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Product</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> product<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteBuilder2</span> <span class="token keyword">implements</span> <span class="token class-name">Builder</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Product</span> product <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildPartA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        product<span class="token punctuation">.</span><span class="token function">addPart</span><span class="token punctuation">(</span><span class="token string">"Part A2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildPartB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        product<span class="token punctuation">.</span><span class="token function">addPart</span><span class="token punctuation">(</span><span class="token string">"Part B2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buildPartC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        product<span class="token punctuation">.</span><span class="token function">addPart</span><span class="token punctuation">(</span><span class="token string">"Part C2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Product</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> product<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="director">Director</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Director</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Builder</span> builder<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Director</span><span class="token punctuation">(</span><span class="token class-name">Builder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>builder <span class="token operator">=</span> builder<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">changeBuilder</span><span class="token punctuation">(</span><span class="token class-name">Builder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>builder <span class="token operator">=</span> builder<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">constructMinimalViableProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">buildPartA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">constructFullFeaturedProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">buildPartA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        builder<span class="token punctuation">.</span><span class="token function">buildPartB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        builder<span class="token punctuation">.</span><span class="token function">buildPartC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="product">Product</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> parts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addPart</span><span class="token punctuation">(</span><span class="token class-name">String</span> part<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        parts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>part<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showParts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Product Parts:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> part <span class="token operator">:</span> parts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"- "</span> <span class="token operator">+</span> part<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-2">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create builders</span>
        <span class="token class-name">Builder</span> builder1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteBuilder1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Builder</span> builder2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteBuilder2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create director with builder1</span>
        <span class="token class-name">Director</span> director <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Director</span><span class="token punctuation">(</span>builder1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Construct a minimal viable product using builder1</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Minimal viable product built by ConcreteBuilder1:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        director<span class="token punctuation">.</span><span class="token function">constructMinimalViableProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Product</span> product1 <span class="token operator">=</span> builder1<span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        product1<span class="token punctuation">.</span><span class="token function">showParts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Construct a full featured product using builder1</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nFull featured product built by ConcreteBuilder1:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        director<span class="token punctuation">.</span><span class="token function">constructFullFeaturedProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Product</span> product2 <span class="token operator">=</span> builder1<span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        product2<span class="token punctuation">.</span><span class="token function">showParts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Change to builder2 and construct a full featured product</span>
        director<span class="token punctuation">.</span><span class="token function">changeBuilder</span><span class="token punctuation">(</span>builder2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nFull featured product built by ConcreteBuilder2:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        director<span class="token punctuation">.</span><span class="token function">constructFullFeaturedProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Product</span> product3 <span class="token operator">=</span> builder2<span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        product3<span class="token punctuation">.</span><span class="token function">showParts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-2">When to Use</h2>
<p>Use the Builder pattern when:</p>
<ol>
<li>The algorithm for creating a complex object should be independent of the parts that make up the object and how they're assembled.</li>
<li>The construction process must allow different representations for the object that's constructed.</li>
<li>You need to construct complex objects step by step.</li>
<li>You want to hide the internal structure of a product from the client.</li>
<li>You want to avoid telescoping constructors (constructors with many parameters).</li>
</ol>
<h2 class="atx" id="benefits-2">Benefits</h2>
<ol>
<li><strong>Separation of concerns</strong>: The pattern separates the construction of a complex object from its representation.</li>
<li><strong>Step-by-step construction</strong>: You can construct objects step by step, defer construction steps, or run steps recursively.</li>
<li><strong>Reuse of construction code</strong>: You can reuse the same construction code when building various representations of products.</li>
<li><strong>Single Responsibility Principle</strong>: You isolate complex construction code from the business logic of the product.</li>
<li><strong>Immutability</strong>: Since the builder returns the final object, it can ensure the object is in a consistent state.</li>
</ol>
<h2 class="atx" id="drawbacks-2">Drawbacks</h2>
<ol>
<li><strong>Complexity</strong>: The pattern requires creating multiple new classes, which can increase the complexity of the code.</li>
<li><strong>Overhead</strong>: For simple objects, using a builder might be overkill.</li>
<li><strong>Mutable builders</strong>: If the builder is mutable, it might not be thread-safe.</li>
<li><strong>Dependency on concrete builders</strong>: The client code might become dependent on specific builder implementations.</li>
</ol>
<h2 class="atx" id="related-patterns-2">Related Patterns</h2>
<ul>
<li><strong>Abstract Factory</strong>: Builder focuses on constructing complex objects step by step, while Abstract Factory emphasizes creating families of related objects.</li>
<li><strong>Composite</strong>: Builders can use Composite to build complex objects with a tree structure.</li>
<li><strong>Factory Method</strong>: Builder can use Factory Method to create the parts of the product.</li>
<li><strong>Prototype</strong>: Builder can use Prototype to create parts of the product by cloning existing parts.</li>
</ul>
<h2 class="atx" id="example-in-the-project-2">Example in the Project</h2>
<p>You can find the complete implementation of the Builder pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/builder/Builder.java">Builder Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/builder/ConcreteBuilder1.java">ConcreteBuilder1</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/builder/ConcreteBuilder2.java">ConcreteBuilder2</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/builder/Director.java">Director</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/builder/Product.java">Product</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/builder/Client.java">Client</a></li>
</ul>
<h1 class="atx" id="prototype-pattern">Prototype-Pattern</h1>
<p><img alt="Prototype Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/creation/prototype/Prototype_Pattern.png"></p>
<h2 class="atx" id="intent-3">Intent</h2>
<p>The Prototype pattern specifies the kinds of objects to create using a prototypical instance, and creates new objects by copying this prototype.</p>
<h2 class="atx" id="problem-3">Problem</h2>
<p>You need to create objects based on existing objects, but creating them from scratch is expensive or complex. Additionally, you want to hide the complexity of creating new instances from the client.</p>
<h2 class="atx" id="solution-3">Solution</h2>
<p>The Prototype pattern suggests creating new objects by copying existing objects, called prototypes, instead of creating new instances from scratch. The pattern declares a common interface for all objects that support cloning, which lets you clone an object without coupling your code to the class of that object.</p>
<h2 class="atx" id="structure-3">Structure</h2>
<p>The Prototype pattern consists of:</p>
<ol>
<li><strong>Prototype</strong>: Declares an interface for cloning itself.</li>
<li><strong>ConcretePrototype</strong>: Implements the operation for cloning itself.</li>
<li><strong>Client</strong>: Creates a new object by asking a prototype to clone itself.</li>
<li><strong>PrototypeRegistry</strong> (optional): Provides a way to access frequently used prototypes by storing a set of pre-built objects that are ready to be copied.</li>
</ol>
<h2 class="atx" id="implementation-in-java-3">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Prototype</code> is an interface that declares the <code>clone</code> method.</li>
<li><code>ConcretePrototype1</code> and <code>ConcretePrototype2</code> implement the <code>Prototype</code> interface and provide their own implementation of the <code>clone</code> method.</li>
<li><code>PrototypeRegistry</code> stores a catalog of frequently used prototypes.</li>
<li><code>Client</code> uses the prototype to create new objects.</li>
</ul>
<h3 class="atx" id="prototype-interface">Prototype Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Prototype</span> <span class="token keyword">extends</span> <span class="token class-name">Cloneable</span> <span class="token punctuation">{</span>
    <span class="token class-name">Prototype</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-prototypes">Concrete Prototypes</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcretePrototype1</span> <span class="token keyword">implements</span> <span class="token class-name">Prototype</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> field1<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> field2<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ConcretePrototype1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field1 <span class="token operator">=</span> <span class="token string">"Default"</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">ConcretePrototype1</span><span class="token punctuation">(</span><span class="token class-name">String</span> field1<span class="token punctuation">,</span> <span class="token keyword">int</span> field2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field1 <span class="token operator">=</span> field1<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field2 <span class="token operator">=</span> field2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Prototype</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcretePrototype1</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>field1<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>field2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setField1</span><span class="token punctuation">(</span><span class="token class-name">String</span> field1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field1 <span class="token operator">=</span> field1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setField2</span><span class="token punctuation">(</span><span class="token keyword">int</span> field2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field2 <span class="token operator">=</span> field2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"ConcretePrototype1 [field1="</span> <span class="token operator">+</span> field1 <span class="token operator">+</span> <span class="token string">", field2="</span> <span class="token operator">+</span> field2 <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcretePrototype2</span> <span class="token keyword">implements</span> <span class="token class-name">Prototype</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> field1<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> field2<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ConcretePrototype2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field1 <span class="token operator">=</span> <span class="token string">"Default"</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field2 <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">ConcretePrototype2</span><span class="token punctuation">(</span><span class="token class-name">String</span> field1<span class="token punctuation">,</span> <span class="token keyword">boolean</span> field2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field1 <span class="token operator">=</span> field1<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field2 <span class="token operator">=</span> field2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Prototype</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcretePrototype2</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>field1<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>field2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setField1</span><span class="token punctuation">(</span><span class="token class-name">String</span> field1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field1 <span class="token operator">=</span> field1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setField2</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> field2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>field2 <span class="token operator">=</span> field2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"ConcretePrototype2 [field1="</span> <span class="token operator">+</span> field1 <span class="token operator">+</span> <span class="token string">", field2="</span> <span class="token operator">+</span> field2 <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="prototype-registry">Prototype Registry</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PrototypeRegistry</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Prototype</span><span class="token punctuation">&gt;</span></span> prototypes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addPrototype</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Prototype</span> prototype<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        prototypes<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Prototype</span> <span class="token function">getPrototype</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> prototypes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removePrototype</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        prototypes<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-3">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create prototype instances</span>
        <span class="token class-name">ConcretePrototype1</span> prototype1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcretePrototype1</span><span class="token punctuation">(</span><span class="token string">"Original1"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ConcretePrototype2</span> prototype2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcretePrototype2</span><span class="token punctuation">(</span><span class="token string">"Original2"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create a prototype registry</span>
        <span class="token class-name">PrototypeRegistry</span> registry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrototypeRegistry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        registry<span class="token punctuation">.</span><span class="token function">addPrototype</span><span class="token punctuation">(</span><span class="token string">"prototype1"</span><span class="token punctuation">,</span> prototype1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        registry<span class="token punctuation">.</span><span class="token function">addPrototype</span><span class="token punctuation">(</span><span class="token string">"prototype2"</span><span class="token punctuation">,</span> prototype2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Clone prototypes from the registry</span>
        <span class="token class-name">ConcretePrototype1</span> clone1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ConcretePrototype1</span><span class="token punctuation">)</span> registry<span class="token punctuation">.</span><span class="token function">getPrototype</span><span class="token punctuation">(</span><span class="token string">"prototype1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ConcretePrototype2</span> clone2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ConcretePrototype2</span><span class="token punctuation">)</span> registry<span class="token punctuation">.</span><span class="token function">getPrototype</span><span class="token punctuation">(</span><span class="token string">"prototype2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Verify the clones</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Original prototype1: "</span> <span class="token operator">+</span> prototype1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Cloned prototype1: "</span> <span class="token operator">+</span> clone1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Original prototype2: "</span> <span class="token operator">+</span> prototype2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Cloned prototype2: "</span> <span class="token operator">+</span> clone2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Modify the clones</span>
        clone1<span class="token punctuation">.</span><span class="token function">setField1</span><span class="token punctuation">(</span><span class="token string">"Modified1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        clone1<span class="token punctuation">.</span><span class="token function">setField2</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        clone2<span class="token punctuation">.</span><span class="token function">setField1</span><span class="token punctuation">(</span><span class="token string">"Modified2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        clone2<span class="token punctuation">.</span><span class="token function">setField2</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Verify that the originals are unchanged</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nAfter modification:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Original prototype1: "</span> <span class="token operator">+</span> prototype1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Modified clone1: "</span> <span class="token operator">+</span> clone1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Original prototype2: "</span> <span class="token operator">+</span> prototype2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Modified clone2: "</span> <span class="token operator">+</span> clone2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-3">When to Use</h2>
<p>Use the Prototype pattern when:</p>
<ol>
<li>The classes to instantiate are specified at run-time, for example, by dynamic loading.</li>
<li>You need to avoid building a class hierarchy of factories that parallels the class hierarchy of products.</li>
<li>Instances of a class can have one of only a few different combinations of state.</li>
<li>Creating an object is an expensive operation, and it would be more efficient to copy an existing object.</li>
<li>Objects must be created with values that can't be determined at initialization time.</li>
</ol>
<h2 class="atx" id="benefits-3">Benefits</h2>
<ol>
<li><strong>Reduced subclassing</strong>: The pattern lets you clone objects without depending on their concrete classes.</li>
<li><strong>Reduced initialization cost</strong>: Creating new objects by cloning existing ones can be more efficient than creating them from scratch.</li>
<li><strong>Dynamic configuration</strong>: You can add and remove objects at runtime.</li>
<li><strong>Reduced complexity</strong>: You can create complex objects more conveniently.</li>
<li><strong>Alternative to inheritance</strong>: Cloning is an alternative to subclassing when you need to create variations of an object.</li>
</ol>
<h2 class="atx" id="drawbacks-3">Drawbacks</h2>
<ol>
<li><strong>Complexity of clone operation</strong>: Implementing the clone operation can be complex, especially for objects with circular references.</li>
<li><strong>Deep vs. shallow copy</strong>: You need to decide whether to implement deep or shallow copying, which can be tricky.</li>
<li><strong>Initialization issues</strong>: The pattern doesn't address the issue of initializing the internal state of clones, especially for complex objects.</li>
<li><strong>Cloning might not be supported</strong>: Some classes might not support cloning due to their internal structure or dependencies.</li>
</ol>
<h2 class="atx" id="related-patterns-3">Related Patterns</h2>
<ul>
<li><strong>Abstract Factory</strong>: Prototype can be used with Abstract Factory to create objects by cloning a prototype instead of creating new instances.</li>
<li><strong>Composite</strong>: Prototypes can be used with Composite to create copies of complex structures.</li>
<li><strong>Decorator</strong>: Prototypes can be used with Decorator to create copies of decorated objects.</li>
<li><strong>Command</strong>: Prototypes can be used with Command to create copies of commands for undo/redo operations.</li>
</ul>
<h2 class="atx" id="example-in-the-project-3">Example in the Project</h2>
<p>You can find the complete implementation of the Prototype pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/prototype/Prototype.java">Prototype Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/prototype/ConcretePrototype1.java">ConcretePrototype1</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/prototype/ConcretePrototype2.java">ConcretePrototype2</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/prototype/PrototypeRegistry.java">PrototypeRegistry</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/prototype/Client.java">Client</a></li>
</ul>
<h1 class="atx" id="singleton-pattern">Singleton Pattern</h1>
<p><img alt="Singleton Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/creation/singleton/Singleton_Pattern.png"></p>
<h2 class="atx" id="intent-4">Intent</h2>
<p>The Singleton pattern ensures a class has only one instance and provides a global point of access to it.</p>
<h2 class="atx" id="problem-4">Problem</h2>
<p>Sometimes it's important to have exactly one instance of a class. For example, you might need a single object that coordinates actions across your system, like a database connection manager, a file manager, or a logger. Having multiple instances of such classes could lead to inconsistent states or resource conflicts.</p>
<h2 class="atx" id="solution-4">Solution</h2>
<p>The Singleton pattern suggests defining a method that lets clients access the unique instance of a class. This method returns the same instance every time it's called, ensuring that there's only one instance of the class throughout the application.</p>
<h2 class="atx" id="structure-4">Structure</h2>
<p>The Singleton pattern consists of:</p>
<ol>
<li><strong>Singleton</strong>: A class that has a private constructor and a static method that returns the single instance of the class.</li>
</ol>
<h2 class="atx" id="implementation-in-java-4">Implementation in Java</h2>
<p>There are several ways to implement the Singleton pattern in Java:</p>
<h3 class="atx" id="eager-initialization">Eager Initialization</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EagerSingleton</span> <span class="token punctuation">{</span>
    <span class="token comment">// The instance is created when the class is loaded</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">EagerSingleton</span> INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EagerSingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Private constructor to prevent instantiation from outside</span>
    <span class="token keyword">private</span> <span class="token class-name">EagerSingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Initialization code</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Public method to provide access to the instance</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">EagerSingleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> INSTANCE<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Business methods</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"EagerSingleton is doing something"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="lazy-initialization">Lazy Initialization</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LazySingleton</span> <span class="token punctuation">{</span>
    <span class="token comment">// The instance is not created until getInstance() is called</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">LazySingleton</span> instance<span class="token punctuation">;</span>

    <span class="token comment">// Private constructor to prevent instantiation from outside</span>
    <span class="token keyword">private</span> <span class="token class-name">LazySingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Initialization code</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Public method to provide access to the instance</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">LazySingleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LazySingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Business methods</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"LazySingleton is doing something"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="thread-safe-singleton">Thread-Safe Singleton</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadSafeSingleton</span> <span class="token punctuation">{</span>
    <span class="token comment">// The instance is not created until getInstance() is called</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">volatile</span> <span class="token class-name">ThreadSafeSingleton</span> instance<span class="token punctuation">;</span>

    <span class="token comment">// Private constructor to prevent instantiation from outside</span>
    <span class="token keyword">private</span> <span class="token class-name">ThreadSafeSingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Initialization code</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Public method to provide access to the instance</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ThreadSafeSingleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Double-checked locking</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">ThreadSafeSingleton</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadSafeSingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Business methods</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ThreadSafeSingleton is doing something"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="enum-singleton">Enum Singleton</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">EnumSingleton</span> <span class="token punctuation">{</span>
    INSTANCE<span class="token punctuation">;</span>

    <span class="token comment">// Business methods</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"EnumSingleton is doing something"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-4">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingletonDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Demonstrate Eager Singleton</span>
        <span class="token class-name">EagerSingleton</span> eagerSingleton1 <span class="token operator">=</span> <span class="token class-name">EagerSingleton</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">EagerSingleton</span> eagerSingleton2 <span class="token operator">=</span> <span class="token class-name">EagerSingleton</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Eager Singleton instances are the same: "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>eagerSingleton1 <span class="token operator">==</span> eagerSingleton2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        eagerSingleton1<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Demonstrate Lazy Singleton</span>
        <span class="token class-name">LazySingleton</span> lazySingleton1 <span class="token operator">=</span> <span class="token class-name">LazySingleton</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LazySingleton</span> lazySingleton2 <span class="token operator">=</span> <span class="token class-name">LazySingleton</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Lazy Singleton instances are the same: "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>lazySingleton1 <span class="token operator">==</span> lazySingleton2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lazySingleton1<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Demonstrate Thread-Safe Singleton</span>
        <span class="token class-name">ThreadSafeSingleton</span> threadSafeSingleton1 <span class="token operator">=</span> <span class="token class-name">ThreadSafeSingleton</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ThreadSafeSingleton</span> threadSafeSingleton2 <span class="token operator">=</span> <span class="token class-name">ThreadSafeSingleton</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Thread-Safe Singleton instances are the same: "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>threadSafeSingleton1 <span class="token operator">==</span> threadSafeSingleton2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        threadSafeSingleton1<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Demonstrate Enum Singleton</span>
        <span class="token class-name">EnumSingleton</span> enumSingleton1 <span class="token operator">=</span> <span class="token class-name">EnumSingleton</span><span class="token punctuation">.</span>INSTANCE<span class="token punctuation">;</span>
        <span class="token class-name">EnumSingleton</span> enumSingleton2 <span class="token operator">=</span> <span class="token class-name">EnumSingleton</span><span class="token punctuation">.</span>INSTANCE<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Enum Singleton instances are the same: "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>enumSingleton1 <span class="token operator">==</span> enumSingleton2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        enumSingleton1<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-4">When to Use</h2>
<p>Use the Singleton pattern when:</p>
<ol>
<li>There must be exactly one instance of a class, and it must be accessible to clients from a well-known access point.</li>
<li>The sole instance should be extensible by subclassing, and clients should be able to use an extended instance without modifying their code.</li>
<li>You need to control concurrent access to a shared resource.</li>
<li>You need to maintain a global state or configuration.</li>
<li>You need to coordinate actions across the system.</li>
</ol>
<h2 class="atx" id="benefits-4">Benefits</h2>
<ol>
<li><strong>Controlled access</strong>: You can have strict control over how and when clients access the sole instance.</li>
<li><strong>Reduced namespace pollution</strong>: The Singleton pattern is an improvement over global variables because it avoids polluting the global namespace.</li>
<li><strong>Permits refinement</strong>: The Singleton class can be subclassed, and you can configure an application with an instance of this extended class.</li>
<li><strong>Flexibility</strong>: You can change your mind and allow more than one instance later without changing client code.</li>
<li><strong>Lazy initialization</strong>: With lazy initialization, the Singleton instance is created only when it's first needed.</li>
</ol>
<h2 class="atx" id="drawbacks-4">Drawbacks</h2>
<ol>
<li><strong>Global state</strong>: The Singleton pattern introduces a global state into your application, which can make testing and debugging more difficult.</li>
<li><strong>Thread safety concerns</strong>: Implementing a thread-safe Singleton can be tricky.</li>
<li><strong>Difficult to subclass</strong>: If the constructor is private, it's not possible to subclass the Singleton class.</li>
<li><strong>Lifetime issues</strong>: The Singleton instance typically lives for the duration of the application, which can be problematic for memory-intensive objects.</li>
<li><strong>Violation of Single Responsibility Principle</strong>: The Singleton class is responsible for both creating the instance and its business logic.</li>
</ol>
<h2 class="atx" id="related-patterns-4">Related Patterns</h2>
<ul>
<li><strong>Abstract Factory</strong>, <strong>Builder</strong>, and <strong>Prototype</strong> can use Singleton in their implementation.</li>
<li><strong>Facade</strong> objects are often Singletons because only one Facade object is required.</li>
<li><strong>State</strong> objects are often Singletons.</li>
<li><strong>Flyweight</strong> shows how to create many small objects efficiently, while Singleton shows how to create just one object.</li>
</ul>
<h2 class="atx" id="example-in-the-project-4">Example in the Project</h2>
<p>You can find the complete implementation of the Singleton pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/singleton/EagerSingleton.java">EagerSingleton</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/singleton/LazySingleton.java">LazySingleton</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/singleton/ThreadSafeSingleton.java">ThreadSafeSingleton</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/singleton/EnumSingleton.java">EnumSingleton</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/creation/singleton/SingletonDemo.java">SingletonDemo</a></li>
</ul>
<h1 class="atx" id="structural-design-patterns">Structural Design Patterns</h1>
<p>Structural design patterns are concerned with how classes and objects are composed to form larger structures. They help ensure that if one part of a system changes, the entire system doesn't need to change along with it.</p>
<p>These patterns focus on simplifying the structure by identifying the relationships between entities. They help in ensuring that when one part of a system changes, the entire structure doesn't need to do the same.</p>
<h2 class="atx" id="patterns-in-this-category-1">Patterns in This Category</h2>
<h3 class="atx" id="adapter"><a href="#adapter-pattern">Adapter</a></h3>
<p>The Adapter pattern allows objects with incompatible interfaces to collaborate.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Converts the interface of a class into another interface clients expect</li>
<li>Allows classes to work together that couldn't otherwise because of incompatible interfaces</li>
<li>Can involve a separate adapter class or can be implemented directly in the adapted class</li>
</ul>
<h3 class="atx" id="bridge"><a href="#bridge-pattern">Bridge</a></h3>
<p>The Bridge pattern separates an abstraction from its implementation so that the two can vary independently.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Decouples an abstraction from its implementation so that the two can vary independently</li>
<li>Involves an interface acting as a bridge between the abstract class and implementor classes</li>
<li>Useful when both the class and what it does vary often</li>
</ul>
<h3 class="atx" id="composite"><a href="#composite-pattern">Composite</a></h3>
<p>The Composite pattern lets you compose objects into tree structures to represent part-whole hierarchies.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Composes objects into tree structures to represent part-whole hierarchies</li>
<li>Lets clients treat individual objects and compositions of objects uniformly</li>
<li>Defines class hierarchies consisting of primitive objects and composite objects</li>
</ul>
<h3 class="atx" id="decorator"><a href="#decorator-pattern">Decorator</a></h3>
<p>The Decorator pattern lets you attach new behaviors to objects by placing these objects inside special wrapper objects that contain the behaviors.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Attaches additional responsibilities to an object dynamically</li>
<li>Provides a flexible alternative to subclassing for extending functionality</li>
<li>Follows the Open/Closed Principle by allowing behavior to be extended without modifying existing code</li>
</ul>
<h3 class="atx" id="facade"><a href="#facade-pattern">Facade</a></h3>
<p>The Facade pattern provides a simplified interface to a complex subsystem.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Provides a unified interface to a set of interfaces in a subsystem</li>
<li>Defines a higher-level interface that makes the subsystem easier to use</li>
<li>Doesn't prevent applications from using subsystem classes if needed</li>
</ul>
<h3 class="atx" id="flyweight"><a href="#flyweight-pattern">Flyweight</a></h3>
<p>The Flyweight pattern lets you fit more objects into the available amount of RAM by sharing common parts of state between multiple objects instead of keeping all of the data in each object.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Minimizes memory usage by sharing as much data as possible with similar objects</li>
<li>Divides an object's state into intrinsic (shared) and extrinsic (unique) state</li>
<li>Particularly useful when you need a large number of similar objects</li>
</ul>
<h3 class="atx" id="proxy"><a href="#proxy-pattern">Proxy</a></h3>
<p>The Proxy pattern provides a substitute or placeholder for another object to control access to it.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Provides a surrogate or placeholder for another object to control access to it</li>
<li>Can be used to add a layer of control over the actual object's operations</li>
<li>Common types include: Remote Proxy, Virtual Proxy, Protection Proxy, and Smart Reference</li>
</ul>
<h2 class="atx" id="when-to-use-structural-patterns">When to Use Structural Patterns</h2>
<p>Consider using structural patterns when:</p>
<ol>
<li>You need to ensure that changes to one part of a system don't affect other parts</li>
<li>You want to use existing classes but their interfaces aren't compatible</li>
<li>You need to organize a complex system into layers</li>
<li>You want to add responsibilities to objects dynamically</li>
<li>You need to optimize resource usage with many fine-grained objects</li>
<li>You want to simplify the interface of a complex subsystem</li>
</ol>
<h2 class="atx" id="relationships-between-structural-patterns">Relationships Between Structural Patterns</h2>
<ul>
<li><strong>Adapter</strong> provides a different interface to its subject, while <strong>Proxy</strong> provides the same interface and <strong>Decorator</strong> provides an enhanced interface</li>
<li><strong>Composite</strong> and <strong>Decorator</strong> have similar structure diagrams, reflecting the fact that both rely on recursive composition</li>
<li><strong>Decorator</strong> can be viewed as a degenerate <strong>Composite</strong> with only one component</li>
<li><strong>Decorator</strong> adds additional responsibilities, while <strong>Adapter</strong> makes unrelated classes work together</li>
<li><strong>Facade</strong> defines a new interface, while <strong>Adapter</strong> reuses an old interface</li>
<li><strong>Flyweight</strong> is often combined with <strong>Composite</strong> to implement shared leaf nodes</li>
</ul>
<p>In the following sections, we'll explore each of these patterns in detail, with Java implementations and practical examples.</p>
<h1 class="atx" id="adapter-pattern">Adapter Pattern</h1>
<p><img alt="Adapter Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/structure/adapter/Adapter_Pattern.png"></p>
<h2 class="atx" id="intent-5">Intent</h2>
<p>The Adapter pattern allows objects with incompatible interfaces to collaborate. It acts as a bridge between two incompatible interfaces by wrapping an instance of one class into an adapter class that presents the interface expected by clients.</p>
<h2 class="atx" id="problem-5">Problem</h2>
<p>You have an existing class with a useful functionality, but its interface is incompatible with the rest of your code. You want to use this class, but you can't modify its source code.</p>
<h2 class="atx" id="solution-5">Solution</h2>
<p>The Adapter pattern suggests creating a special object (an adapter) that converts the interface of one object so that another object can understand it. An adapter wraps one of the objects to hide the complexity of conversion happening behind the scenes.</p>
<h2 class="atx" id="structure-5">Structure</h2>
<p>The Adapter pattern consists of:</p>
<ol>
<li><strong>Target</strong>: Defines the domain-specific interface that Client uses.</li>
<li><strong>Client</strong>: Collaborates with objects conforming to the Target interface.</li>
<li><strong>Adaptee</strong>: Defines an existing interface that needs adapting.</li>
<li><strong>Adapter</strong>: Adapts the interface of Adaptee to the Target interface.</li>
</ol>
<h2 class="atx" id="implementation-in-java-5">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Target</code> is an interface that defines the expected interface.</li>
<li><code>Adaptee</code> is a class with useful functionality but incompatible interface.</li>
<li><code>Adapter</code> is a class that implements the <code>Target</code> interface and wraps an <code>Adaptee</code> object.</li>
<li><code>ClassAdapter</code> is an alternative implementation that uses multiple inheritance (extends <code>Adaptee</code> and implements <code>Target</code>).</li>
</ul>
<h3 class="atx" id="target-interface">Target Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Target</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="adaptee">Adaptee</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Adaptee</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">specificRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Adaptee: specificRequest() called"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="object-adapter">Object Adapter</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Adapter</span> <span class="token keyword">implements</span> <span class="token class-name">Target</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Adaptee</span> adaptee<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Adapter</span><span class="token punctuation">(</span><span class="token class-name">Adaptee</span> adaptee<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>adaptee <span class="token operator">=</span> adaptee<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Adapter: Converting request to specificRequest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        adaptee<span class="token punctuation">.</span><span class="token function">specificRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="class-adapter">Class Adapter</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">Adaptee</span> <span class="token keyword">implements</span> <span class="token class-name">Target</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ClassAdapter: Converting request to specificRequest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">specificRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-5">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Target</span> target<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token class-name">Target</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>target <span class="token operator">=</span> target<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">executeRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="demo-1">Demo</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdapterPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Using Object Adapter</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Using Object Adapter:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Adaptee</span> adaptee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Adaptee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Target</span> objectAdapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Adapter</span><span class="token punctuation">(</span>adaptee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Client</span> client1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span>objectAdapter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        client1<span class="token punctuation">.</span><span class="token function">executeRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Using Class Adapter</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nUsing Class Adapter:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Target</span> classAdapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Client</span> client2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span>classAdapter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        client2<span class="token punctuation">.</span><span class="token function">executeRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-5">When to Use</h2>
<p>Use the Adapter pattern when:</p>
<ol>
<li>You want to use an existing class, but its interface isn't compatible with the rest of your code.</li>
<li>You want to reuse several existing subclasses that lack certain common functionality that can't be added to the superclass.</li>
<li>You need to work with several existing classes, but it's impractical to adapt their interface by subclassing every one.</li>
<li>You want to use a class in your application, but the interface of this class doesn't match the interface you need.</li>
</ol>
<h2 class="atx" id="benefits-5">Benefits</h2>
<ol>
<li><strong>Single Responsibility Principle</strong>: You can separate the interface or data conversion code from the primary business logic of the program.</li>
<li><strong>Open/Closed Principle</strong>: You can introduce new types of adapters into the program without breaking the existing client code.</li>
<li><strong>Reusability</strong>: You can reuse existing classes that lack some functionality required by your application.</li>
<li><strong>Flexibility</strong>: Adapters allow classes with incompatible interfaces to work together.</li>
<li><strong>Integration</strong>: Adapters make it easier to integrate third-party libraries or legacy code.</li>
</ol>
<h2 class="atx" id="drawbacks-5">Drawbacks</h2>
<ol>
<li><strong>Complexity</strong>: The overall complexity of the code increases because you need to introduce a set of new interfaces and classes.</li>
<li><strong>Performance overhead</strong>: There might be a slight performance overhead due to the additional indirection.</li>
<li><strong>Multiple adapters</strong>: Sometimes you might need to create multiple adapters for each class you want to adapt.</li>
<li><strong>Adaptee limitations</strong>: The pattern can't be used if the Adaptee has a final class or final methods that need to be overridden.</li>
</ol>
<h2 class="atx" id="related-patterns-5">Related Patterns</h2>
<ul>
<li><strong>Bridge</strong>: Adapter is commonly used when an existing component needs to be adapted to work with others. Bridge is designed up-front to let abstractions and implementations vary independently.</li>
<li><strong>Decorator</strong>: Decorator enhances an object without changing its interface. Adapter changes an object's interface.</li>
<li><strong>Proxy</strong>: Proxy provides the same interface as its service object, while Adapter provides a different interface.</li>
<li><strong>Facade</strong>: Adapter adapts an existing interface, while Facade defines a new interface.</li>
</ul>
<h2 class="atx" id="example-in-the-project-5">Example in the Project</h2>
<p>You can find the complete implementation of the Adapter pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/adapter/Target.java">Target Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/adapter/Adaptee.java">Adaptee</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/adapter/Adapter.java">Adapter</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/adapter/ClassAdapter.java">ClassAdapter</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/adapter/Client.java">Client</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/adapter/AdapterPatternDemo.java">AdapterPatternDemo</a></li>
</ul>
<h1 class="atx" id="bridge-pattern">Bridge Pattern</h1>
<p><img alt="Bridge Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/structure/bridge/Bridge_Pattern.png"></p>
<h2 class="atx" id="intent-6">Intent</h2>
<p>The Bridge pattern separates an abstraction from its implementation so that the two can vary independently. It decouples an abstraction from its implementation so that the two can vary independently.</p>
<h2 class="atx" id="problem-6">Problem</h2>
<p>When you have a class hierarchy that grows in two different dimensions, using inheritance alone leads to an explosion of subclasses. For example, if you have different types of shapes (circles, squares) and different rendering methods (vector, raster), using inheritance would require creating classes like VectorCircle, RasterCircle, VectorSquare, RasterSquare, and so on.</p>
<h2 class="atx" id="solution-6">Solution</h2>
<p>The Bridge pattern suggests splitting the monolithic class into two separate hierarchies:</p>
<ol>
<li>Abstraction: The interface that defines the high-level operations</li>
<li>Implementation: The interface that defines the low-level operations</li>
</ol>
<p>The abstraction contains a reference to the implementation, allowing the two to vary independently.</p>
<h2 class="atx" id="structure-6">Structure</h2>
<p>The Bridge pattern consists of:</p>
<ol>
<li><strong>Abstraction</strong>: Defines the abstraction's interface and maintains a reference to an object of type Implementor.</li>
<li><strong>RefinedAbstraction</strong>: Extends the interface defined by Abstraction.</li>
<li><strong>Implementor</strong>: Defines the interface for implementation classes.</li>
<li><strong>ConcreteImplementor</strong>: Implements the Implementor interface and defines its concrete implementation.</li>
</ol>
<h2 class="atx" id="implementation-in-java-6">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Implementor</code> is an interface that defines the operations that concrete implementors must implement.</li>
<li><code>ConcreteImplementorA</code> and <code>ConcreteImplementorB</code> implement the <code>Implementor</code> interface.</li>
<li><code>Abstraction</code> is an abstract class that maintains a reference to an <code>Implementor</code> object.</li>
<li><code>RefinedAbstraction</code> extends <code>Abstraction</code> and provides additional functionality.</li>
</ul>
<h3 class="atx" id="implementor-interface">Implementor Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Implementor</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">operationImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-implementors">Concrete Implementors</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteImplementorA</span> <span class="token keyword">implements</span> <span class="token class-name">Implementor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteImplementorA: Performing implementation operation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteImplementorB</span> <span class="token keyword">implements</span> <span class="token class-name">Implementor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteImplementorB: Performing implementation operation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="abstraction">Abstraction</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Abstraction</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">Implementor</span> implementor<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Abstraction</span><span class="token punctuation">(</span><span class="token class-name">Implementor</span> implementor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>implementor <span class="token operator">=</span> implementor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Abstraction: Delegating operation to implementor"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        implementor<span class="token punctuation">.</span><span class="token function">operationImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="refined-abstraction">Refined Abstraction</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RefinedAbstraction</span> <span class="token keyword">extends</span> <span class="token class-name">Abstraction</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">RefinedAbstraction</span><span class="token punctuation">(</span><span class="token class-name">Implementor</span> implementor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>implementor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"RefinedAbstraction: Extending the abstraction"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">additionalOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"RefinedAbstraction: Performing additional operation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        implementor<span class="token punctuation">.</span><span class="token function">operationImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-6">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BridgePatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create implementors</span>
        <span class="token class-name">Implementor</span> implementorA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteImplementorA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Implementor</span> implementorB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteImplementorB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create abstractions with different implementors</span>
        <span class="token class-name">Abstraction</span> abstractionA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RefinedAbstraction</span><span class="token punctuation">(</span>implementorA<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Abstraction</span> abstractionB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RefinedAbstraction</span><span class="token punctuation">(</span>implementorB<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Use the abstractions</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Using abstraction with implementor A:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        abstractionA<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nUsing abstraction with implementor B:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        abstractionB<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Use refined abstraction's additional functionality</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nUsing refined abstraction's additional functionality:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">RefinedAbstraction</span> refinedAbstraction <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RefinedAbstraction</span><span class="token punctuation">(</span>implementorA<span class="token punctuation">)</span><span class="token punctuation">;</span>
        refinedAbstraction<span class="token punctuation">.</span><span class="token function">additionalOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-6">When to Use</h2>
<p>Use the Bridge pattern when:</p>
<ol>
<li>You want to avoid a permanent binding between an abstraction and its implementation.</li>
<li>Both the abstractions and their implementations should be extensible by subclassing.</li>
<li>Changes in the implementation should not impact the client code.</li>
<li>You want to hide implementation details completely from clients.</li>
<li>You have a proliferation of classes resulting from a coupled interface and numerous implementations.</li>
<li>You want to share an implementation among multiple objects.</li>
</ol>
<h2 class="atx" id="benefits-6">Benefits</h2>
<ol>
<li><strong>Decoupling interface and implementation</strong>: The pattern decouples the interface from the implementation, allowing them to vary independently.</li>
<li><strong>Improved extensibility</strong>: You can extend the abstraction and implementation hierarchies independently.</li>
<li><strong>Hiding implementation details</strong>: Clients only interact with the abstraction, hiding implementation details.</li>
<li><strong>Reduced subclass explosion</strong>: Avoids the exponential growth of subclasses when a class varies in multiple dimensions.</li>
<li><strong>Runtime flexibility</strong>: You can switch implementations at runtime.</li>
</ol>
<h2 class="atx" id="drawbacks-6">Drawbacks</h2>
<ol>
<li><strong>Increased complexity</strong>: The pattern introduces additional interfaces and classes, which can make the code more complex.</li>
<li><strong>Slight performance overhead</strong>: Due to the additional indirection, there might be a slight performance overhead.</li>
<li><strong>Design challenges</strong>: Identifying the correct abstractions and implementations can be challenging.</li>
<li><strong>Increased code size</strong>: The pattern requires more code than a simple inheritance-based solution.</li>
</ol>
<h2 class="atx" id="related-patterns-6">Related Patterns</h2>
<ul>
<li><strong>Abstract Factory</strong>: Can create and configure a specific Bridge.</li>
<li><strong>Adapter</strong>: Adapter is used when an existing component needs to be adapted to work with others. Bridge is designed up-front to let abstractions and implementations vary independently.</li>
<li><strong>Strategy</strong>: Bridge has a structure similar to Strategy, but Bridge is used to separate an abstraction from its implementation, while Strategy is used to change an algorithm's implementation.</li>
<li><strong>State</strong>: Like Bridge, State pattern can be implemented using the object composition principle.</li>
</ul>
<h2 class="atx" id="example-in-the-project-6">Example in the Project</h2>
<p>You can find the complete implementation of the Bridge pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/bridge/Implementor.java">Implementor Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/bridge/ConcreteImplementorA.java">ConcreteImplementorA</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/bridge/ConcreteImplementorB.java">ConcreteImplementorB</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/bridge/Abstraction.java">Abstraction</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/bridge/RefinedAbstraction.java">RefinedAbstraction</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/bridge/BridgePatternDemo.java">BridgePatternDemo</a></li>
</ul>
<h1 class="atx" id="composite-pattern">Composite Pattern</h1>
<p><img alt="Composite Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/structure/composite/Composite_Pattern.png"></p>
<h2 class="atx" id="intent-7">Intent</h2>
<p>The Composite pattern lets you compose objects into tree structures to represent part-whole hierarchies. It lets clients treat individual objects and compositions of objects uniformly.</p>
<h2 class="atx" id="problem-7">Problem</h2>
<p>When you're working with tree-structured data, you often need to distinguish between a leaf node and a branch. But using separate objects with different interfaces for these nodes makes the code more complex. Clients need to know whether they're dealing with a leaf or a branch to call the appropriate methods.</p>
<h2 class="atx" id="solution-7">Solution</h2>
<p>The Composite pattern suggests that you work with both simple and complex elements through a common interface that declares operations applicable to both types of elements. This way, clients don't need to know whether they're working with a leaf or a composite element.</p>
<h2 class="atx" id="structure-7">Structure</h2>
<p>The Composite pattern consists of:</p>
<ol>
<li><strong>Component</strong>: Declares the interface for objects in the composition and implements default behavior for the interface common to all classes.</li>
<li><strong>Leaf</strong>: Represents leaf objects in the composition. A leaf has no children.</li>
<li><strong>Composite</strong>: Defines behavior for components having children and stores child components.</li>
<li><strong>Client</strong>: Manipulates objects in the composition through the Component interface.</li>
</ol>
<h2 class="atx" id="implementation-in-java-7">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Component</code> is an abstract class that defines the common interface for all concrete components.</li>
<li><code>Leaf</code> is a class that implements the <code>Component</code> interface and represents leaf nodes.</li>
<li><code>Composite</code> is a class that implements the <code>Component</code> interface and represents composite nodes.</li>
</ul>
<h3 class="atx" id="component">Component</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Component</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Component</span> <span class="token function">getChild</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token keyword">int</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="leaf">Leaf</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Leaf</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Leaf "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">": Performing operation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Cannot add to a leaf"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Cannot remove from a leaf"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Component</span> <span class="token function">getChild</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Cannot get child from a leaf"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token keyword">int</span> depth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> indent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> depth<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            indent<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"--"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>indent <span class="token operator">+</span> <span class="token string">"Leaf: "</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="composite-1">Composite</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Composite</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Component</span><span class="token punctuation">&gt;</span></span> children <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Composite</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Composite "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">": Performing operation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Component</span> component <span class="token operator">:</span> children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            component<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        children<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        children<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Component</span> <span class="token function">getChild</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> children<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> children<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token keyword">int</span> depth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> indent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> depth<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            indent<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"--"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>indent <span class="token operator">+</span> <span class="token string">"Composite: "</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Component</span> component <span class="token operator">:</span> children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            component<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span>depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-7">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CompositePatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create a tree structure</span>
        <span class="token class-name">Component</span> root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Composite</span><span class="token punctuation">(</span><span class="token string">"Root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Component</span> branch1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Composite</span><span class="token punctuation">(</span><span class="token string">"Branch 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Component</span> branch2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Composite</span><span class="token punctuation">(</span><span class="token string">"Branch 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Component</span> leaf1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token string">"Leaf 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Component</span> leaf2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token string">"Leaf 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Component</span> leaf3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token string">"Leaf 3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Component</span> leaf4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token string">"Leaf 4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Build the tree</span>
        root<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>branch1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        root<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>branch2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        branch1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>leaf1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        branch1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>leaf2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        branch2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>leaf3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        branch2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>leaf4<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Display the tree structure</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Tree structure:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        root<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Perform operations on the tree</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nPerforming operations on the tree:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        root<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Perform operations on a branch</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nPerforming operations on Branch 1:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        branch1<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Perform operations on a leaf</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nPerforming operations on Leaf 3:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        leaf3<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-7">When to Use</h2>
<p>Use the Composite pattern when:</p>
<ol>
<li>You want to represent part-whole hierarchies of objects.</li>
<li>You want clients to be able to ignore the difference between compositions of objects and individual objects.</li>
<li>The structure can have any level of complexity, and is dynamic.</li>
<li>You want the client code to work with all objects in the hierarchy uniformly.</li>
</ol>
<h2 class="atx" id="benefits-7">Benefits</h2>
<ol>
<li><strong>Simplified client code</strong>: Clients can treat composite structures and individual objects uniformly.</li>
<li><strong>Easier to add new component types</strong>: You can define new leaf or composite components without changing existing code.</li>
<li><strong>More flexibility in structuring data</strong>: You can build complex tree structures using simple components.</li>
<li><strong>Open/Closed Principle</strong>: You can introduce new element types without breaking the existing code.</li>
<li><strong>Recursive composition</strong>: Components can be nested to any level, creating complex structures.</li>
</ol>
<h2 class="atx" id="drawbacks-7">Drawbacks</h2>
<ol>
<li><strong>Difficult to restrict components</strong>: It can be difficult to restrict what components can be added to a composite.</li>
<li><strong>Overhead for leaf nodes</strong>: Leaf nodes must implement methods that don't make sense for them (like add, remove).</li>
<li><strong>Design complexity</strong>: The pattern can make the design overly general, which might be unnecessary for simple cases.</li>
<li><strong>Performance considerations</strong>: Operations that visit every node in a large structure can be expensive.</li>
</ol>
<h2 class="atx" id="related-patterns-7">Related Patterns</h2>
<ul>
<li><strong>Decorator</strong>: Decorator is often used with Composite. When decorators and composites are used together, they usually have a common parent class.</li>
<li><strong>Iterator</strong>: Iterator can be used to traverse composite structures.</li>
<li><strong>Visitor</strong>: Visitor can be used to perform operations over a Composite structure.</li>
<li><strong>Flyweight</strong>: Flyweight can be used to share leaf nodes in a Composite structure to save memory.</li>
<li><strong>Chain of Responsibility</strong>: Often the component-parent link in a composite structure is used to implement the Chain of Responsibility pattern.</li>
</ul>
<h2 class="atx" id="example-in-the-project-7">Example in the Project</h2>
<p>You can find the complete implementation of the Composite pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/composite/Component.java">Component</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/composite/Leaf.java">Leaf</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/composite/Composite.java">Composite</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/composite/FileSystemLeaf.java">FileSystemLeaf</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/composite/FileSystemComposite.java">FileSystemComposite</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/composite/CompositePatternDemo.java">CompositePatternDemo</a></li>
</ul>
<h1 class="atx" id="decorator-pattern">Decorator Pattern</h1>
<p><img alt="Decorator Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/structure/decorator/Decorator_Pattern.png"></p>
<h2 class="atx" id="intent-8">Intent</h2>
<p>The Decorator pattern lets you attach new behaviors to objects by placing these objects inside special wrapper objects that contain the behaviors. It allows you to add responsibilities to objects dynamically without modifying their structure.</p>
<h2 class="atx" id="problem-8">Problem</h2>
<p>You want to add functionality to an object, but subclassing would lead to an explosion of subclasses to support every combination of functionality. Additionally, you want to be able to add and remove responsibilities dynamically at runtime.</p>
<h2 class="atx" id="solution-8">Solution</h2>
<p>The Decorator pattern suggests creating a wrapper (decorator) that has the same interface as the original object. This decorator forwards requests to the wrapped object but may perform additional actions before or after forwarding. Multiple decorators can be stacked to add multiple behaviors.</p>
<h2 class="atx" id="structure-8">Structure</h2>
<p>The Decorator pattern consists of:</p>
<ol>
<li><strong>Component</strong>: Defines the interface for objects that can have responsibilities added to them dynamically.</li>
<li><strong>ConcreteComponent</strong>: Defines an object to which additional responsibilities can be attached.</li>
<li><strong>Decorator</strong>: Maintains a reference to a Component object and defines an interface that conforms to Component's interface.</li>
<li><strong>ConcreteDecorator</strong>: Adds responsibilities to the component.</li>
</ol>
<h2 class="atx" id="implementation-in-java-8">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Component</code> is an interface that defines the operations that can be altered by decorators.</li>
<li><code>ConcreteComponent</code> implements the <code>Component</code> interface.</li>
<li><code>Decorator</code> is an abstract class that implements the <code>Component</code> interface and has a reference to a <code>Component</code> object.</li>
<li><code>ConcreteDecoratorA</code>, <code>ConcreteDecoratorB</code>, and <code>ConcreteDecoratorC</code> extend the <code>Decorator</code> class and add specific behaviors.</li>
</ul>
<h3 class="atx" id="component-interface">Component Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-component">Concrete Component</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteComponent</span> <span class="token keyword">implements</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteComponent: Performing basic operation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="decorator-1">Decorator</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Decorator</span> <span class="token keyword">implements</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">Component</span> component<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Decorator</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>component <span class="token operator">=</span> component<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        component<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-decorators">Concrete Decorators</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteDecoratorA</span> <span class="token keyword">extends</span> <span class="token class-name">Decorator</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">ConcreteDecoratorA</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addedBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">addedBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteDecoratorA: Adding behavior before basic operation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteDecoratorB</span> <span class="token keyword">extends</span> <span class="token class-name">Decorator</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">ConcreteDecoratorB</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteDecoratorB: Adding behavior before basic operation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteDecoratorC</span> <span class="token keyword">extends</span> <span class="token class-name">Decorator</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">ConcreteDecoratorC</span><span class="token punctuation">(</span><span class="token class-name">Component</span> component<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteDecoratorC: Adding behavior after basic operation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-8">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DecoratorPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create a basic component</span>
        <span class="token class-name">Component</span> component <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Decorate it with ConcreteDecoratorA</span>
        <span class="token class-name">Component</span> decoratedA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteDecoratorA</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Decorate it with ConcreteDecoratorB</span>
        <span class="token class-name">Component</span> decoratedB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteDecoratorB</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Decorate it with ConcreteDecoratorC</span>
        <span class="token class-name">Component</span> decoratedC <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteDecoratorC</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Decorate it with multiple decorators</span>
        <span class="token class-name">Component</span> decoratedABC <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteDecoratorA</span><span class="token punctuation">(</span>
                                    <span class="token keyword">new</span> <span class="token class-name">ConcreteDecoratorB</span><span class="token punctuation">(</span>
                                        <span class="token keyword">new</span> <span class="token class-name">ConcreteDecoratorC</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Execute operations</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Basic component:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        component<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nComponent decorated with ConcreteDecoratorA:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        decoratedA<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nComponent decorated with ConcreteDecoratorB:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        decoratedB<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nComponent decorated with ConcreteDecoratorC:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        decoratedC<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nComponent decorated with ConcreteDecoratorA, ConcreteDecoratorB, and ConcreteDecoratorC:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        decoratedABC<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-8">When to Use</h2>
<p>Use the Decorator pattern when:</p>
<ol>
<li>You need to add responsibilities to objects dynamically and transparently, without affecting other objects.</li>
<li>You want to add responsibilities to an object that you can withdraw later.</li>
<li>Extension by subclassing is impractical because it would lead to an explosion of subclasses to support every combination.</li>
<li>You want to keep new functionality separate and not burden the original class with it.</li>
<li>You want to follow the Single Responsibility Principle by dividing a monolithic class that implements many possible variants of behavior.</li>
</ol>
<h2 class="atx" id="benefits-8">Benefits</h2>
<ol>
<li><strong>Flexibility</strong>: More flexible than static inheritance because it allows adding and removing responsibilities at runtime.</li>
<li><strong>Avoids feature-laden classes</strong>: You can add functionality to individual objects without affecting others.</li>
<li><strong>Composable behavior</strong>: You can combine multiple decorators to produce complex behaviors.</li>
<li><strong>Single Responsibility Principle</strong>: You can divide a monolithic class into several smaller classes, each focused on a specific aspect of functionality.</li>
<li><strong>Open/Closed Principle</strong>: You can introduce new decorators without changing existing code.</li>
</ol>
<h2 class="atx" id="drawbacks-8">Drawbacks</h2>
<ol>
<li><strong>Complexity</strong>: A design with many small decorators can be hard to understand and maintain.</li>
<li><strong>Instantiation complexity</strong>: Creating a decorated component requires instantiating multiple objects and connecting them.</li>
<li><strong>Identity issues</strong>: A decorated component is not identical to the component itself, which can cause issues with identity comparison.</li>
<li><strong>Order dependency</strong>: The order in which decorators are applied can affect the behavior.</li>
<li><strong>Removing specific decorators</strong>: It can be difficult to remove a specific decorator from the wrapper stack.</li>
</ol>
<h2 class="atx" id="related-patterns-8">Related Patterns</h2>
<ul>
<li><strong>Adapter</strong>: Decorator changes an object's interface, while Adapter makes incompatible interfaces compatible.</li>
<li><strong>Composite</strong>: Decorator can be viewed as a degenerate composite with only one component. However, Decorator adds additional responsibilities, while Composite just "sums up" its children's results.</li>
<li><strong>Strategy</strong>: Decorator lets you change the skin of an object, while Strategy lets you change the guts.</li>
<li><strong>Chain of Responsibility</strong>: Both patterns create chains of objects. The difference is that in Chain of Responsibility, exactly one object in the chain handles the request, while in Decorator, all objects in the chain handle the request.</li>
</ul>
<h2 class="atx" id="example-in-the-project-8">Example in the Project</h2>
<p>You can find the complete implementation of the Decorator pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/decorator/Component.java">Component Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/decorator/ConcreteComponent.java">ConcreteComponent</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/decorator/Decorator.java">Decorator</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/decorator/ConcreteDecoratorA.java">ConcreteDecoratorA</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/decorator/ConcreteDecoratorB.java">ConcreteDecoratorB</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/decorator/ConcreteDecoratorC.java">ConcreteDecoratorC</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/decorator/DecoratorPatternDemo.java">DecoratorPatternDemo</a></li>
</ul>
<h1 class="atx" id="facade-pattern">Facade Pattern</h1>
<p><img alt="Facade Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/structure/facade/Facade_Pattern.png"></p>
<h2 class="atx" id="intent-9">Intent</h2>
<p>The Facade pattern provides a simplified interface to a complex subsystem. It defines a higher-level interface that makes the subsystem easier to use by reducing complexity and hiding the implementation details.</p>
<h2 class="atx" id="problem-9">Problem</h2>
<p>A complex subsystem may consist of many classes with intricate interdependencies. Client code that needs to use the subsystem must understand these dependencies and interact with multiple classes, leading to tight coupling between the client and the subsystem.</p>
<h2 class="atx" id="solution-9">Solution</h2>
<p>The Facade pattern suggests creating a simplified interface (a facade) that provides a unified and simpler way to access the functionality of the subsystem. The facade doesn't encapsulate the subsystem classes but rather provides a simplified interface to their functionality.</p>
<h2 class="atx" id="structure-9">Structure</h2>
<p>The Facade pattern consists of:</p>
<ol>
<li><strong>Facade</strong>: Provides a simplified interface to the subsystem.</li>
<li><strong>Subsystem Classes</strong>: Implement the functionality of the subsystem.</li>
<li><strong>Client</strong>: Uses the facade to interact with the subsystem.</li>
</ol>
<h2 class="atx" id="implementation-in-java-9">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Facade</code> is a class that provides a simplified interface to the subsystem.</li>
<li><code>SubsystemA</code>, <code>SubsystemB</code>, and <code>SubsystemC</code> are classes that implement the functionality of the subsystem.</li>
</ul>
<h3 class="atx" id="subsystem-classes">Subsystem Classes</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SubsystemA</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationA1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"SubsystemA: Operation A1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationA2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"SubsystemA: Operation A2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SubsystemB</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationB1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"SubsystemB: Operation B1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationB2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"SubsystemB: Operation B2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationB3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"SubsystemB: Operation B3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SubsystemC</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationC1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"SubsystemC: Operation C1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationC2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"SubsystemC: Operation C2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operationC3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"SubsystemC: Operation C3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="facade-1">Facade</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Facade</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">SubsystemA</span> subsystemA<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">SubsystemB</span> subsystemB<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">SubsystemC</span> subsystemC<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Facade</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>subsystemA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubsystemA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>subsystemB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubsystemB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>subsystemC <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SubsystemC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Simplified interface for common use case 1</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Facade: Operation 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subsystemA<span class="token punctuation">.</span><span class="token function">operationA1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subsystemB<span class="token punctuation">.</span><span class="token function">operationB1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subsystemC<span class="token punctuation">.</span><span class="token function">operationC1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Simplified interface for common use case 2</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Facade: Operation 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subsystemA<span class="token punctuation">.</span><span class="token function">operationA2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subsystemB<span class="token punctuation">.</span><span class="token function">operationB2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subsystemC<span class="token punctuation">.</span><span class="token function">operationC2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Simplified interface for common use case 3</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Facade: Operation 3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subsystemB<span class="token punctuation">.</span><span class="token function">operationB3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subsystemC<span class="token punctuation">.</span><span class="token function">operationC3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Provide access to subsystems if needed</span>
    <span class="token keyword">public</span> <span class="token class-name">SubsystemA</span> <span class="token function">getSubsystemA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> subsystemA<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">SubsystemB</span> <span class="token function">getSubsystemB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> subsystemB<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">SubsystemC</span> <span class="token function">getSubsystemC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> subsystemC<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-9">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FacadePatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create a facade</span>
        <span class="token class-name">Facade</span> facade <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Facade</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Use the simplified interface</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Using the facade for operation 1:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        facade<span class="token punctuation">.</span><span class="token function">operation1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nUsing the facade for operation 2:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        facade<span class="token punctuation">.</span><span class="token function">operation2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nUsing the facade for operation 3:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        facade<span class="token punctuation">.</span><span class="token function">operation3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Client can still access subsystems directly if needed</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nAccessing subsystem directly:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SubsystemA</span> subsystemA <span class="token operator">=</span> facade<span class="token punctuation">.</span><span class="token function">getSubsystemA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subsystemA<span class="token punctuation">.</span><span class="token function">operationA1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-9">When to Use</h2>
<p>Use the Facade pattern when:</p>
<ol>
<li>You want to provide a simple interface to a complex subsystem.</li>
<li>You want to decouple a client from a complex subsystem.</li>
<li>You want to layer your subsystems, using facades as entry points to each layer.</li>
<li>You need to organize a subsystem into layers, with facades providing the entry points to each layer.</li>
<li>The dependencies between clients and the implementation classes of an abstraction are too complex or numerous.</li>
</ol>
<h2 class="atx" id="benefits-9">Benefits</h2>
<ol>
<li><strong>Simplified interface</strong>: The pattern provides a simple interface to a complex subsystem, making it easier to use.</li>
<li><strong>Decoupling</strong>: It decouples a client from a complex subsystem, reducing dependencies.</li>
<li><strong>Layered architecture</strong>: It helps in organizing a subsystem into layers, with facades providing the entry points to each layer.</li>
<li><strong>Reduced complexity</strong>: It reduces the learning curve for clients by providing a simplified interface.</li>
<li><strong>Flexibility</strong>: Clients can still access subsystem classes directly if needed, providing flexibility.</li>
</ol>
<h2 class="atx" id="drawbacks-9">Drawbacks</h2>
<ol>
<li><strong>Limited control</strong>: The simplified interface may not provide all the functionality of the subsystem.</li>
<li><strong>Potential performance overhead</strong>: The facade may introduce an additional layer of indirection, which could impact performance.</li>
<li><strong>Overuse</strong>: Overusing facades can lead to a proliferation of small interfaces, which can make the system harder to understand.</li>
<li><strong>Maintenance challenges</strong>: If the subsystem changes, the facade may need to be updated to reflect those changes.</li>
</ol>
<h2 class="atx" id="related-patterns-9">Related Patterns</h2>
<ul>
<li><strong>Adapter</strong>: Adapter makes unrelated classes work together by converting the interface of one class into another. Facade defines a new interface for existing objects, while Adapter reuses an old interface.</li>
<li><strong>Mediator</strong>: Facade abstracts a subsystem of objects to provide a more convenient interface. Mediator abstracts how a set of objects interact. Mediator centralizes communication between objects, while Facade just offers a simplified interface.</li>
<li><strong>Abstract Factory</strong>: Can be used with Facade to provide an interface for creating subsystem objects.</li>
<li><strong>Singleton</strong>: Facades are often implemented as Singletons since only one facade object is required.</li>
</ul>
<h2 class="atx" id="example-in-the-project-9">Example in the Project</h2>
<p>You can find the complete implementation of the Facade pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/facade/Facade.java">Facade</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/facade/SubsystemA.java">SubsystemA</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/facade/SubsystemB.java">SubsystemB</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/facade/SubsystemC.java">SubsystemC</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/facade/FacadePatternDemo.java">FacadePatternDemo</a></li>
</ul>
<h1 class="atx" id="flyweight-pattern">Flyweight Pattern</h1>
<p><img alt="Flyweight Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/structure/flyweight/Flyweight_Pattern.png"></p>
<h2 class="atx" id="intent-10">Intent</h2>
<p>The Flyweight pattern lets you fit more objects into the available amount of RAM by sharing common parts of state between multiple objects instead of keeping all of the data in each object. It minimizes memory usage by sharing as much data as possible with similar objects.</p>
<h2 class="atx" id="problem-10">Problem</h2>
<p>When you need to create a large number of similar objects, the memory usage can become a concern. For example, in a document editor, each character might be represented as an object with properties like font, size, and color. Creating a separate object for each character in a large document would consume a significant amount of memory.</p>
<h2 class="atx" id="solution-10">Solution</h2>
<p>The Flyweight pattern suggests separating the intrinsic state (shared) from the extrinsic state (unique). The intrinsic state is stored in flyweight objects and can be shared across multiple contexts. The extrinsic state depends on and varies with the context and is stored or computed by client objects.</p>
<h2 class="atx" id="structure-10">Structure</h2>
<p>The Flyweight pattern consists of:</p>
<ol>
<li><strong>Flyweight</strong>: Declares an interface through which flyweights can receive and act on extrinsic state.</li>
<li><strong>ConcreteFlyweight</strong>: Implements the Flyweight interface and stores intrinsic state. Must be sharable.</li>
<li><strong>UnsharedConcreteFlyweight</strong>: Not all Flyweight subclasses need to be shared. This class implements the Flyweight interface but doesn't share instances.</li>
<li><strong>FlyweightFactory</strong>: Creates and manages flyweight objects. Ensures that flyweights are shared properly.</li>
<li><strong>Client</strong>: Maintains a reference to flyweights and computes or stores the extrinsic state of flyweights.</li>
</ol>
<h2 class="atx" id="implementation-in-java-10">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Flyweight</code> is an interface that defines the operations that can be performed using extrinsic state.</li>
<li><code>ConcreteFlyweight</code> implements the <code>Flyweight</code> interface and stores intrinsic state.</li>
<li><code>UnsharedConcreteFlyweight</code> implements the <code>Flyweight</code> interface but doesn't share instances.</li>
<li><code>FlyweightFactory</code> creates and manages flyweight objects.</li>
</ul>
<h3 class="atx" id="flyweight-interface">Flyweight Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Flyweight</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token class-name">String</span> extrinsicState<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-flyweight">Concrete Flyweight</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteFlyweight</span> <span class="token keyword">implements</span> <span class="token class-name">Flyweight</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> intrinsicState<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ConcreteFlyweight</span><span class="token punctuation">(</span><span class="token class-name">String</span> intrinsicState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>intrinsicState <span class="token operator">=</span> intrinsicState<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Creating ConcreteFlyweight with intrinsic state: "</span> <span class="token operator">+</span> intrinsicState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token class-name">String</span> extrinsicState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteFlyweight: Intrinsic State = "</span> <span class="token operator">+</span> intrinsicState 
                <span class="token operator">+</span> <span class="token string">", Extrinsic State = "</span> <span class="token operator">+</span> extrinsicState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="unshared-concrete-flyweight">Unshared Concrete Flyweight</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UnsharedConcreteFlyweight</span> <span class="token keyword">implements</span> <span class="token class-name">Flyweight</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> allState<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UnsharedConcreteFlyweight</span><span class="token punctuation">(</span><span class="token class-name">String</span> allState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>allState <span class="token operator">=</span> allState<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Creating UnsharedConcreteFlyweight with state: "</span> <span class="token operator">+</span> allState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token class-name">String</span> extrinsicState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"UnsharedConcreteFlyweight: All State = "</span> <span class="token operator">+</span> allState 
                <span class="token operator">+</span> <span class="token string">", Extrinsic State = "</span> <span class="token operator">+</span> extrinsicState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="flyweight-factory">Flyweight Factory</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FlyweightFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Flyweight</span><span class="token punctuation">&gt;</span></span> flyweights <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Flyweight</span> <span class="token function">getFlyweight</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>flyweights<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Reusing existing flyweight for key: "</span> <span class="token operator">+</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> flyweights<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Creating new flyweight for key: "</span> <span class="token operator">+</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Flyweight</span> flyweight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteFlyweight</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            flyweights<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> flyweight<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> flyweight<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getFlyweightCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> flyweights<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-10">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FlyweightPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> colors <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"Red"</span><span class="token punctuation">,</span> <span class="token string">"Green"</span><span class="token punctuation">,</span> <span class="token string">"Blue"</span><span class="token punctuation">,</span> <span class="token string">"White"</span><span class="token punctuation">,</span> <span class="token string">"Black"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> shapes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"Circle"</span><span class="token punctuation">,</span> <span class="token string">"Square"</span><span class="token punctuation">,</span> <span class="token string">"Triangle"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">FlyweightFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FlyweightFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Use shared flyweights</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Randomly select intrinsic state (color)</span>
            <span class="token class-name">String</span> color <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token function">getRandomIndex</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token comment">// Get flyweight for this color</span>
            <span class="token class-name">Flyweight</span> flyweight <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">getFlyweight</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// Extrinsic state (shape and coordinates)</span>
            <span class="token class-name">String</span> shape <span class="token operator">=</span> shapes<span class="token punctuation">[</span><span class="token function">getRandomIndex</span><span class="token punctuation">(</span>shapes<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token function">getRandomCoordinate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token function">getRandomCoordinate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> extrinsicState <span class="token operator">=</span> shape <span class="token operator">+</span> <span class="token string">" at ("</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">;</span>

            <span class="token comment">// Use the flyweight</span>
            flyweight<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span>extrinsicState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Use an unshared flyweight</span>
        <span class="token class-name">Flyweight</span> unsharedFlyweight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UnsharedConcreteFlyweight</span><span class="token punctuation">(</span><span class="token string">"Custom"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        unsharedFlyweight<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span><span class="token string">"Special shape at (100,100)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Report the number of shared flyweights</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nTotal number of shared flyweights: "</span> <span class="token operator">+</span> factory<span class="token punctuation">.</span><span class="token function">getFlyweightCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getRandomIndex</span><span class="token punctuation">(</span><span class="token keyword">int</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getRandomCoordinate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-10">When to Use</h2>
<p>Use the Flyweight pattern when:</p>
<ol>
<li>An application uses a large number of objects that have some shared state among them.</li>
<li>The memory usage is a concern because of the large number of objects.</li>
<li>Most of the object state can be made extrinsic (stored outside the object).</li>
<li>Once the extrinsic state is removed, many groups of distinct objects can be replaced by relatively few shared objects.</li>
<li>The application doesn't depend on object identity. Since flyweight objects may be shared, identity tests will return true for conceptually distinct objects.</li>
</ol>
<h2 class="atx" id="benefits-10">Benefits</h2>
<ol>
<li><strong>Reduced memory usage</strong>: The pattern reduces memory usage by sharing common parts of state between multiple objects.</li>
<li><strong>Improved performance</strong>: Fewer objects means less memory allocation and garbage collection, which can improve performance.</li>
<li><strong>Separation of concerns</strong>: The pattern separates intrinsic state from extrinsic state, which can lead to a cleaner design.</li>
<li><strong>Scalability</strong>: The pattern allows applications to support a larger number of objects within memory constraints.</li>
<li><strong>Reusability</strong>: Flyweight objects can be reused across different contexts.</li>
</ol>
<h2 class="atx" id="drawbacks-10">Drawbacks</h2>
<ol>
<li><strong>Complexity</strong>: The pattern introduces additional complexity by separating intrinsic and extrinsic state.</li>
<li><strong>Runtime costs</strong>: Computing extrinsic state on the fly might increase runtime costs.</li>
<li><strong>Thread safety concerns</strong>: If flyweight objects are shared across threads, they need to be immutable or synchronized.</li>
<li><strong>Debugging challenges</strong>: Shared objects can make debugging more difficult.</li>
<li><strong>Limited applicability</strong>: The pattern is only useful when there's a significant amount of shared state among objects.</li>
</ol>
<h2 class="atx" id="related-patterns-10">Related Patterns</h2>
<ul>
<li><strong>Composite</strong>: Flyweight is often combined with Composite to implement a logical hierarchy while sharing leaf nodes.</li>
<li><strong>State</strong>: Flyweight objects can be used as states in the State pattern to reduce memory usage.</li>
<li><strong>Strategy</strong>: Flyweight objects can be used as strategies in the Strategy pattern to reduce memory usage.</li>
<li><strong>Singleton</strong>: The Flyweight Factory is often implemented as a Singleton.</li>
<li><strong>Factory Method</strong>: Flyweight Factory uses Factory Method to create flyweight objects.</li>
</ul>
<h2 class="atx" id="example-in-the-project-10">Example in the Project</h2>
<p>You can find the complete implementation of the Flyweight pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/flyweight/Flyweight.java">Flyweight Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/flyweight/ConcreteFlyweight.java">ConcreteFlyweight</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/flyweight/UnsharedConcreteFlyweight.java">UnsharedConcreteFlyweight</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/flyweight/FlyweightFactory.java">FlyweightFactory</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/flyweight/FlyweightPatternDemo.java">FlyweightPatternDemo</a></li>
</ul>
<h1 class="atx" id="proxy-pattern">Proxy Pattern</h1>
<p><img alt="Proxy Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/structure/proxy/Proxy_Pattern.png"></p>
<h2 class="atx" id="intent-11">Intent</h2>
<p>The Proxy pattern provides a substitute or placeholder for another object to control access to it. It creates a representative object that controls access to another object, which may be remote, expensive to create, or in need of securing.</p>
<h2 class="atx" id="problem-11">Problem</h2>
<p>Direct access to an object might not be possible or desirable for several reasons:</p>
<ol>
<li>The object is in a different address space (remote proxy).</li>
<li>The object is expensive to create (virtual proxy).</li>
<li>Access to the object needs to be controlled (protection proxy).</li>
<li>Additional functionality needs to be provided when the object is accessed (smart proxy).</li>
</ol>
<h2 class="atx" id="solution-11">Solution</h2>
<p>The Proxy pattern suggests creating a new proxy class with the same interface as an original service object. The proxy class then delegates all the work to the service object, but can intercept the requests and add additional behavior before or after passing the request to the service object.</p>
<h2 class="atx" id="structure-11">Structure</h2>
<p>The Proxy pattern consists of:</p>
<ol>
<li><strong>Subject</strong>: An interface that defines the common operations for RealSubject and Proxy.</li>
<li><strong>RealSubject</strong>: The real object that the proxy represents.</li>
<li><strong>Proxy</strong>: Maintains a reference to the RealSubject and controls access to it.</li>
</ol>
<h2 class="atx" id="implementation-in-java-11">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Subject</code> is an interface that defines the operations that can be performed.</li>
<li><code>RealSubject</code> implements the <code>Subject</code> interface and represents the real object.</li>
<li><code>Proxy</code> implements the <code>Subject</code> interface, maintains a reference to a <code>RealSubject</code>, and controls access to it.</li>
</ul>
<h3 class="atx" id="subject-interface">Subject Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="real-subject">Real Subject</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RealSubject</span> <span class="token keyword">implements</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"RealSubject: Handling request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="proxy-1">Proxy</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Proxy</span> <span class="token keyword">implements</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">RealSubject</span> realSubject<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Lazy initialization - the real subject is not created until needed</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Lazy initialization</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>realSubject <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Proxy: Creating RealSubject"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            realSubject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RealSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Pre-processing</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Proxy: Pre-processing request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Delegating to the real subject</span>
        realSubject<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Post-processing</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Proxy: Post-processing request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-11">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProxyPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Using the proxy</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Client: Executing the client code with a proxy:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Subject</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        proxy<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nClient: Executing the client code with a proxy again:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        proxy<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-11">When to Use</h2>
<p>Use the Proxy pattern when:</p>
<ol>
<li><strong>Remote Proxy</strong>: You need to represent an object that is in a different address space.</li>
<li><strong>Virtual Proxy</strong>: You need a placeholder for an object that is expensive to create.</li>
<li><strong>Protection Proxy</strong>: You need to control access to an object based on access rights.</li>
<li><strong>Smart Proxy</strong>: You need to perform additional actions when an object is accessed, such as counting references or logging.</li>
<li><strong>Cache Proxy</strong>: You need to cache the results of expensive operations.</li>
<li><strong>Firewall Proxy</strong>: You need to protect the real object from malicious clients.</li>
<li><strong>Synchronization Proxy</strong>: You need to provide synchronized access to an object in a multi-threaded environment.</li>
</ol>
<h2 class="atx" id="benefits-11">Benefits</h2>
<ol>
<li><strong>Controlled access</strong>: The proxy can control access to the real subject, adding an extra layer of security.</li>
<li><strong>Reduced coupling</strong>: Clients interact with the proxy, not the real subject, reducing coupling.</li>
<li><strong>Lazy initialization</strong>: The proxy can create the real subject only when it's needed, improving performance.</li>
<li><strong>Separation of concerns</strong>: The proxy can handle concerns like logging, caching, or access control, keeping the real subject focused on its core functionality.</li>
<li><strong>Remote access</strong>: The proxy can handle the complexity of accessing a remote object, making it transparent to the client.</li>
</ol>
<h2 class="atx" id="drawbacks-11">Drawbacks</h2>
<ol>
<li><strong>Increased complexity</strong>: The pattern introduces an additional layer of indirection, which can make the code more complex.</li>
<li><strong>Performance overhead</strong>: The proxy adds an extra layer, which might impact performance, especially if the proxy does a lot of processing.</li>
<li><strong>Limited transparency</strong>: The proxy might not be completely transparent to the client, especially if it adds behavior that affects the client.</li>
<li><strong>Implementation challenges</strong>: Implementing certain types of proxies, like remote proxies, can be challenging.</li>
</ol>
<h2 class="atx" id="related-patterns-11">Related Patterns</h2>
<ul>
<li><strong>Adapter</strong>: Adapter provides a different interface to its subject, while Proxy provides the same interface.</li>
<li><strong>Decorator</strong>: Decorator adds responsibilities to an object, while Proxy controls access to an object.</li>
<li><strong>Facade</strong>: Facade provides a simplified interface to a subsystem, while Proxy controls access to an object.</li>
<li><strong>Composite</strong>: Proxy can be used to implement lazy initialization for expensive leaf nodes in a Composite structure.</li>
<li><strong>Chain of Responsibility</strong>: Proxy can be used as a part of a Chain of Responsibility to add access control.</li>
</ul>
<h2 class="atx" id="example-in-the-project-11">Example in the Project</h2>
<p>You can find the complete implementation of the Proxy pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/proxy/Subject.java">Subject Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/proxy/RealSubject.java">RealSubject</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/proxy/Proxy.java">Proxy</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/structure/proxy/ProxyPatternDemo.java">ProxyPatternDemo</a></li>
</ul>
<h1 class="atx" id="behavioral-design-patterns">Behavioral Design Patterns</h1>
<p>Behavioral design patterns are concerned with algorithms and the assignment of responsibilities between objects. They characterize complex control flow that's difficult to follow at run-time. They shift your focus away from the flow of control to let you concentrate just on the way objects are interconnected.</p>
<p>These patterns address responsibilities of objects in an application and how they communicate between them. They help make complex behavior more manageable by specifying the responsibilities of objects and the ways they communicate.</p>
<h2 class="atx" id="patterns-in-this-category-2">Patterns in This Category</h2>
<h3 class="atx" id="chain-of-responsibility"><a href="#chain-of-responsibility-pattern">Chain of Responsibility</a></h3>
<p>The Chain of Responsibility pattern lets you pass requests along a chain of handlers. Upon receiving a request, each handler decides either to process the request or to pass it to the next handler in the chain.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Avoids coupling the sender of a request to its receiver</li>
<li>Gives more than one object a chance to handle the request</li>
<li>Passes the request along a chain of potential handlers until one handles it</li>
</ul>
<h3 class="atx" id="command"><a href="#command-pattern">Command</a></h3>
<p>The Command pattern turns a request into a stand-alone object that contains all information about the request. This transformation lets you pass requests as method arguments, delay or queue a request's execution, and support undoable operations.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Encapsulates a request as an object</li>
<li>Allows parameterization of clients with different requests</li>
<li>Allows for queueing of requests and logging of requests</li>
<li>Supports undoable operations</li>
</ul>
<h3 class="atx" id="interpreter"><a href="#interpreter-pattern">Interpreter</a></h3>
<p>The Interpreter pattern provides a way to evaluate language grammar or expressions for particular languages.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Defines a representation for a language's grammar</li>
<li>Interprets sentences in the language</li>
<li>Used for specialized languages that appear frequently in applications</li>
</ul>
<h3 class="atx" id="iterator"><a href="#iterator-pattern">Iterator</a></h3>
<p>The Iterator pattern lets you traverse elements of a collection without exposing its underlying representation (list, stack, tree, etc.).</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Provides a way to access elements of a collection sequentially without exposing its underlying structure</li>
<li>Supports multiple traversals of a collection</li>
<li>Provides a uniform interface for traversing different collection types</li>
</ul>
<h3 class="atx" id="mediator"><a href="#mediator-pattern">Mediator</a></h3>
<p>The Mediator pattern restricts direct communications between objects and forces them to collaborate only via a mediator object.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Defines an object that encapsulates how a set of objects interact</li>
<li>Promotes loose coupling by keeping objects from referring to each other explicitly</li>
<li>Centralizes complex communications and control between related objects</li>
</ul>
<h3 class="atx" id="memento"><a href="#memento-pattern">Memento</a></h3>
<p>The Memento pattern lets you save and restore the previous state of an object without revealing the details of its implementation.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Captures and externalizes an object's internal state</li>
<li>Allows the object to be restored to this state later</li>
<li>Keeps the saved state external to the object</li>
<li>Doesn't violate encapsulation</li>
</ul>
<h3 class="atx" id="observer"><a href="#observer-pattern">Observer</a></h3>
<p>The Observer pattern lets you define a subscription mechanism to notify multiple objects about any events that happen to the object they're observing.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Defines a one-to-many dependency between objects</li>
<li>When one object changes state, all its dependents are notified and updated automatically</li>
<li>Promotes loose coupling between the subject and its observers</li>
</ul>
<h3 class="atx" id="state"><a href="#state-pattern">State</a></h3>
<p>The State pattern lets an object alter its behavior when its internal state changes. It appears as if the object changed its class.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Allows an object to change its behavior when its internal state changes</li>
<li>Encapsulates state-specific behavior in separate state classes</li>
<li>Makes state transitions explicit</li>
</ul>
<h3 class="atx" id="strategy"><a href="#strategy-pattern">Strategy</a></h3>
<p>The Strategy pattern lets you define a family of algorithms, put each of them into a separate class, and make their objects interchangeable.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Defines a family of algorithms, encapsulates each one, and makes them interchangeable</li>
<li>Lets the algorithm vary independently from clients that use it</li>
<li>Eliminates conditional statements by using polymorphism</li>
</ul>
<h3 class="atx" id="template-method"><a href="#template-method-pattern">Template Method</a></h3>
<p>The Template Method pattern defines the skeleton of an algorithm in the superclass but lets subclasses override specific steps of the algorithm without changing its structure.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Defines the skeleton of an algorithm in a method, deferring some steps to subclasses</li>
<li>Lets subclasses redefine certain steps of an algorithm without changing the algorithm's structure</li>
<li>Implements the invariant parts of an algorithm once and leaves it to subclasses to implement the behavior that can vary</li>
</ul>
<h3 class="atx" id="visitor"><a href="#visitor-pattern">Visitor</a></h3>
<p>The Visitor pattern lets you separate algorithms from the objects on which they operate.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Represents an operation to be performed on elements of an object structure</li>
<li>Lets you define a new operation without changing the classes of the elements on which it operates</li>
<li>Allows adding new operations to existing object structures without modifying those structures</li>
</ul>
<h2 class="atx" id="when-to-use-behavioral-patterns">When to Use Behavioral Patterns</h2>
<p>Consider using behavioral patterns when:</p>
<ol>
<li>You want to define how objects interact and communicate with each other</li>
<li>You need to encapsulate behavior in an object and delegate to it</li>
<li>You want to define the behavior of objects at runtime</li>
<li>You need to define a family of algorithms and make them interchangeable</li>
<li>You want to capture the internal state of an object without violating encapsulation</li>
<li>You need to define a one-to-many dependency between objects</li>
</ol>
<h2 class="atx" id="relationships-between-behavioral-patterns">Relationships Between Behavioral Patterns</h2>
<ul>
<li><strong>Chain of Responsibility</strong>, <strong>Command</strong>, <strong>Mediator</strong>, and <strong>Observer</strong> address how you can decouple senders and receivers, but with different trade-offs</li>
<li><strong>Chain of Responsibility</strong> passes a sender request along a chain of potential receivers</li>
<li><strong>Command</strong> establishes unidirectional connections between senders and receivers</li>
<li><strong>Mediator</strong> eliminates direct connections between senders and receivers, forcing them to communicate indirectly</li>
<li><strong>Observer</strong> allows senders to communicate with multiple receivers at once</li>
<li><strong>Strategy</strong> and <strong>State</strong> patterns have similar structures, but different intents</li>
<li><strong>Template Method</strong> uses inheritance to vary part of an algorithm, while <strong>Strategy</strong> uses delegation to vary the entire algorithm</li>
</ul>
<p>In the following sections, we'll explore each of these patterns in detail, with Java implementations and practical examples.</p>
<h1 class="atx" id="chain-of-responsibility-pattern">Chain of Responsibility Pattern</h1>
<p><img alt="Chain of Responsibility Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/behaviour/chain/Chain_of_Responsibility_Pattern.png"></p>
<h2 class="atx" id="intent-12">Intent</h2>
<p>The Chain of Responsibility pattern lets you pass requests along a chain of handlers. Upon receiving a request, each handler decides either to process the request or to pass it to the next handler in the chain.</p>
<h2 class="atx" id="problem-12">Problem</h2>
<p>You need to process a request in multiple ways, but you don't know in advance which handler should process it. You want to decouple the sender of a request from its receivers and give more than one object a chance to handle the request.</p>
<h2 class="atx" id="solution-12">Solution</h2>
<p>The Chain of Responsibility pattern suggests organizing handlers into a chain where each handler has a reference to the next handler. Upon receiving a request, each handler decides either to process it or to pass it along the chain.</p>
<h2 class="atx" id="structure-12">Structure</h2>
<p>The Chain of Responsibility pattern consists of:</p>
<ol>
<li><strong>Handler</strong>: Defines an interface for handling requests and optionally implementing the successor link.</li>
<li><strong>ConcreteHandler</strong>: Handles requests it is responsible for and can access its successor.</li>
<li><strong>Client</strong>: Initiates the request to a handler in the chain.</li>
</ol>
<h2 class="atx" id="implementation-in-java-12">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Handler</code> is an interface that declares methods for handling requests and setting the next handler.</li>
<li><code>DefaultHandler</code>, <code>TypeAHandler</code>, <code>TypeBHandler</code>, and <code>TypeCHandler</code> implement the <code>Handler</code> interface with different handling logic.</li>
<li><code>Request</code> represents the request being passed through the chain.</li>
</ul>
<h3 class="atx" id="handler-interface">Handler Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Handler</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">setNext</span><span class="token punctuation">(</span><span class="token class-name">Handler</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Handler</span> <span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">Request</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-handlers">Concrete Handlers</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TypeAHandler</span> <span class="token keyword">implements</span> <span class="token class-name">Handler</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Handler</span> next<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNext</span><span class="token punctuation">(</span><span class="token class-name">Handler</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> handler<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Handler</span> <span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">Request</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"TypeA"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"TypeAHandler: Handling request "</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>next <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"TypeAHandler: Passing request to next handler"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            next<span class="token punctuation">.</span><span class="token function">handleRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"TypeAHandler: No handler available for this request"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Similar implementations for TypeBHandler and TypeCHandler</span></code></pre>
<h3 class="atx" id="default-handler">Default Handler</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DefaultHandler</span> <span class="token keyword">implements</span> <span class="token class-name">Handler</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Handler</span> next<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNext</span><span class="token punctuation">(</span><span class="token class-name">Handler</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> handler<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Handler</span> <span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">Request</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"DefaultHandler: Handling request "</span> <span class="token operator">+</span> request<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="request">Request</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Request</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">,</span> <span class="token class-name">String</span> description<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-12">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChainPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create handlers</span>
        <span class="token class-name">Handler</span> typeAHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeAHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Handler</span> typeBHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeBHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Handler</span> typeCHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeCHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Handler</span> defaultHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Set up the chain</span>
        typeAHandler<span class="token punctuation">.</span><span class="token function">setNext</span><span class="token punctuation">(</span>typeBHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
        typeBHandler<span class="token punctuation">.</span><span class="token function">setNext</span><span class="token punctuation">(</span>typeCHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
        typeCHandler<span class="token punctuation">.</span><span class="token function">setNext</span><span class="token punctuation">(</span>defaultHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create requests</span>
        <span class="token class-name">Request</span> requestA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token string">"TypeA"</span><span class="token punctuation">,</span> <span class="token string">"Process data A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Request</span> requestB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token string">"TypeB"</span><span class="token punctuation">,</span> <span class="token string">"Process data B"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Request</span> requestC <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token string">"TypeC"</span><span class="token punctuation">,</span> <span class="token string">"Process data C"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Request</span> requestD <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token string">"TypeD"</span><span class="token punctuation">,</span> <span class="token string">"Process data D"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Process requests</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Processing Request A:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        typeAHandler<span class="token punctuation">.</span><span class="token function">handleRequest</span><span class="token punctuation">(</span>requestA<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nProcessing Request B:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        typeAHandler<span class="token punctuation">.</span><span class="token function">handleRequest</span><span class="token punctuation">(</span>requestB<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nProcessing Request C:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        typeAHandler<span class="token punctuation">.</span><span class="token function">handleRequest</span><span class="token punctuation">(</span>requestC<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nProcessing Request D:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        typeAHandler<span class="token punctuation">.</span><span class="token function">handleRequest</span><span class="token punctuation">(</span>requestD<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-12">When to Use</h2>
<p>Use the Chain of Responsibility pattern when:</p>
<ol>
<li>More than one object may handle a request, and the handler isn't known in advance.</li>
<li>You want to issue a request to one of several objects without specifying the receiver explicitly.</li>
<li>The set of objects that can handle a request should be specified dynamically.</li>
<li>You want to decouple the sender and receiver of a request.</li>
</ol>
<h2 class="atx" id="benefits-12">Benefits</h2>
<ol>
<li><strong>Reduced coupling</strong>: The pattern decouples senders and receivers of requests.</li>
<li><strong>Added flexibility in assigning responsibilities</strong>: You can add or change responsibilities for handling a request by changing the members or order of the chain.</li>
<li><strong>Single Responsibility Principle</strong>: Each handler performs a specific task and doesn't need to know about the chain's structure.</li>
<li><strong>Open/Closed Principle</strong>: You can introduce new handlers without breaking existing code.</li>
</ol>
<h2 class="atx" id="drawbacks-12">Drawbacks</h2>
<ol>
<li><strong>No guarantee of handling</strong>: A request might go unhandled if the chain isn't configured properly.</li>
<li><strong>Debugging challenges</strong>: It can be hard to observe the runtime characteristics and debug the chain.</li>
<li><strong>Potential performance issues</strong>: Long chains might cause performance issues or delays in processing.</li>
<li><strong>Potential for circular references</strong>: If not implemented carefully, circular references can occur.</li>
</ol>
<h2 class="atx" id="related-patterns-12">Related Patterns</h2>
<ul>
<li><strong>Composite</strong>: Chain of Responsibility is often applied in conjunction with Composite. The parent component acts as a successor for all its children.</li>
<li><strong>Command</strong>: Chain of Responsibility can be used with Command to represent requests as objects and pass them along the chain.</li>
<li><strong>Decorator</strong>: Chain of Responsibility and Decorator have similar structures but different intents. Both patterns rely on recursive composition to pass execution through a series of objects.</li>
</ul>
<h2 class="atx" id="example-in-the-project-12">Example in the Project</h2>
<p>You can find the complete implementation of the Chain of Responsibility pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/chain/Handler.java">Handler Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/chain/DefaultHandler.java">DefaultHandler</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/chain/TypeAHandler.java">TypeAHandler</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/chain/TypeBHandler.java">TypeBHandler</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/chain/TypeCHandler.java">TypeCHandler</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/chain/Request.java">Request</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/chain/ChainPatternDemo.java">ChainPatternDemo</a></li>
</ul>
<h1 class="atx" id="command-pattern">Command Pattern</h1>
<p><img alt="Command Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/behaviour/command/Command_Pattern.png"></p>
<h2 class="atx" id="intent-13">Intent</h2>
<p>The Command pattern turns a request into a stand-alone object that contains all information about the request. This transformation lets you pass requests as method arguments, delay or queue a request's execution, and support undoable operations.</p>
<h2 class="atx" id="problem-13">Problem</h2>
<p>You need to issue requests to objects without knowing anything about the operation being requested or the receiver of the request. You also want to support operations like queueing requests, logging requests, and undoing operations.</p>
<h2 class="atx" id="solution-13">Solution</h2>
<p>The Command pattern suggests encapsulating a request as an object, thereby letting you parameterize clients with different requests, queue or log requests, and support undoable operations.</p>
<h2 class="atx" id="structure-13">Structure</h2>
<p>The Command pattern consists of:</p>
<ol>
<li><strong>Command</strong>: Declares an interface for executing an operation.</li>
<li><strong>ConcreteCommand</strong>: Defines a binding between a Receiver object and an action, and implements Execute by invoking the corresponding operation(s) on the Receiver.</li>
<li><strong>Client</strong>: Creates a ConcreteCommand object and sets its receiver.</li>
<li><strong>Invoker</strong>: Asks the command to carry out the request.</li>
<li><strong>Receiver</strong>: Knows how to perform the operations associated with carrying out a request.</li>
</ol>
<h2 class="atx" id="implementation-in-java-13">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Command</code> is an interface that declares the <code>execute</code> method.</li>
<li><code>ConcreteCommandA</code>, <code>ConcreteCommandB</code>, and <code>ConcreteCommandC</code> implement the <code>Command</code> interface and delegate to a <code>Receiver</code>.</li>
<li><code>Invoker</code> stores and executes commands.</li>
<li><code>Receiver</code> performs the actual work when the command is executed.</li>
</ul>
<h3 class="atx" id="command-interface">Command Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-commands">Concrete Commands</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteCommandA</span> <span class="token keyword">implements</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Receiver</span> receiver<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> parameter<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ConcreteCommandA</span><span class="token punctuation">(</span><span class="token class-name">Receiver</span> receiver<span class="token punctuation">,</span> <span class="token class-name">String</span> parameter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>receiver <span class="token operator">=</span> receiver<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parameter <span class="token operator">=</span> parameter<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteCommandA: Executing command with parameter: "</span> <span class="token operator">+</span> parameter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        receiver<span class="token punctuation">.</span><span class="token function">actionA</span><span class="token punctuation">(</span>parameter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Similar implementations for ConcreteCommandB and ConcreteCommandC</span></code></pre>
<h3 class="atx" id="receiver">Receiver</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Receiver</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionA</span><span class="token punctuation">(</span><span class="token class-name">String</span> parameter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Receiver: Performing Action A with parameter: "</span> <span class="token operator">+</span> parameter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Complex business logic here</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionB</span><span class="token punctuation">(</span><span class="token class-name">String</span> parameter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Receiver: Performing Action B with parameter: "</span> <span class="token operator">+</span> parameter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Complex business logic here</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionC</span><span class="token punctuation">(</span><span class="token class-name">String</span> parameter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Receiver: Performing Action C with parameter: "</span> <span class="token operator">+</span> parameter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Complex business logic here</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="invoker">Invoker</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Invoker</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Command</span><span class="token punctuation">&gt;</span></span> commands <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Command</span><span class="token punctuation">&gt;</span></span> history <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCommand</span><span class="token punctuation">(</span><span class="token class-name">Command</span> command<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        commands<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">executeCommand</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> commands<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Command</span> command <span class="token operator">=</span> commands<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
            command<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Invalid command index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">executeAllCommands</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Command</span> command <span class="token operator">:</span> commands<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            command<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showCommandHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Command History (most recent first):"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> history<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"- Command "</span> <span class="token operator">+</span> history<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-13">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CommandPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create receiver</span>
        <span class="token class-name">Receiver</span> receiver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Receiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create commands</span>
        <span class="token class-name">Command</span> commandA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteCommandA</span><span class="token punctuation">(</span>receiver<span class="token punctuation">,</span> <span class="token string">"Data for A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Command</span> commandB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteCommandB</span><span class="token punctuation">(</span>receiver<span class="token punctuation">,</span> <span class="token string">"Data for B"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Command</span> commandC <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteCommandC</span><span class="token punctuation">(</span>receiver<span class="token punctuation">,</span> <span class="token string">"Data for C"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create invoker and set commands</span>
        <span class="token class-name">Invoker</span> invoker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Invoker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        invoker<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>commandA<span class="token punctuation">)</span><span class="token punctuation">;</span>
        invoker<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>commandB<span class="token punctuation">)</span><span class="token punctuation">;</span>
        invoker<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>commandC<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Execute specific command</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Executing specific command (index 1):"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        invoker<span class="token punctuation">.</span><span class="token function">executeCommand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nExecuting all commands:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        invoker<span class="token punctuation">.</span><span class="token function">executeAllCommands</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nShowing command history:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        invoker<span class="token punctuation">.</span><span class="token function">showCommandHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-13">When to Use</h2>
<p>Use the Command pattern when:</p>
<ol>
<li>You want to parameterize objects with operations.</li>
<li>You want to queue operations, schedule their execution, or execute them remotely.</li>
<li>You want to implement reversible operations (undo/redo).</li>
<li>You need to structure a system around high-level operations built on primitive operations.</li>
<li>You want to decouple objects that execute a command from objects that issue the command.</li>
</ol>
<h2 class="atx" id="benefits-13">Benefits</h2>
<ol>
<li><strong>Decoupling</strong>: The pattern decouples the object that invokes the operation from the one that knows how to perform it.</li>
<li><strong>Extensibility</strong>: You can add new commands without changing existing code.</li>
<li><strong>Composite commands</strong>: You can compose simple commands into complex ones using the Composite pattern.</li>
<li><strong>Undo/Redo support</strong>: Commands can store state for reversing their effects.</li>
<li><strong>Queueing and logging</strong>: Commands can be stored in a queue for later execution or logged for auditing purposes.</li>
</ol>
<h2 class="atx" id="drawbacks-13">Drawbacks</h2>
<ol>
<li><strong>Increased number of classes</strong>: The pattern introduces many small command classes.</li>
<li><strong>Complexity</strong>: For simple operations, the pattern might be overkill.</li>
<li><strong>Memory usage</strong>: For undo/redo functionality, commands need to store state, which can consume memory.</li>
<li><strong>Performance overhead</strong>: The indirection introduced by the pattern can impact performance for simple operations.</li>
</ol>
<h2 class="atx" id="related-patterns-13">Related Patterns</h2>
<ul>
<li><strong>Composite</strong>: Commands can be composed into macro commands using the Composite pattern.</li>
<li><strong>Memento</strong>: Can be used with Command to maintain state for undoable operations.</li>
<li><strong>Prototype</strong>: Commands that must be copied before being placed on a history list can use the Prototype pattern.</li>
<li><strong>Strategy</strong>: Both Command and Strategy can be used to parameterize objects with operations. The difference is that Strategy typically specifies how something is done, while Command specifies what is done and when.</li>
</ul>
<h2 class="atx" id="example-in-the-project-13">Example in the Project</h2>
<p>You can find the complete implementation of the Command pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/command/Command.java">Command Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/command/ConcreteCommandA.java">ConcreteCommandA</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/command/ConcreteCommandB.java">ConcreteCommandB</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/command/ConcreteCommandC.java">ConcreteCommandC</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/command/Receiver.java">Receiver</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/command/Invoker.java">Invoker</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/command/CommandPatternDemo.java">CommandPatternDemo</a></li>
</ul>
<h1 class="atx" id="interpreter-pattern">Interpreter Pattern</h1>
<p><img alt="Interpreter Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/behaviour/interpreter/Interpreter_Pattern.png"></p>
<h2 class="atx" id="intent-14">Intent</h2>
<p>The Interpreter pattern provides a way to evaluate language grammar or expressions for particular languages. It defines a representation for a language's grammar along with an interpreter that uses the representation to interpret sentences in the language.</p>
<h2 class="atx" id="problem-14">Problem</h2>
<p>You need to interpret a specialized language or notation and perform operations based on that interpretation. For example, you might need to parse and evaluate mathematical expressions, SQL queries, or regular expressions.</p>
<h2 class="atx" id="solution-14">Solution</h2>
<p>The Interpreter pattern suggests defining a grammar for the language and representing each grammar rule as a class. It also provides an interpreter that uses these classes to interpret sentences in the language.</p>
<h2 class="atx" id="structure-14">Structure</h2>
<p>The Interpreter pattern consists of:</p>
<ol>
<li><strong>AbstractExpression</strong>: Declares an interface for executing an operation.</li>
<li><strong>TerminalExpression</strong>: Implements the interpret operation for terminal symbols in the grammar.</li>
<li><strong>NonterminalExpression</strong>: Implements the interpret operation for non-terminal symbols in the grammar.</li>
<li><strong>Context</strong>: Contains information that's global to the interpreter.</li>
<li><strong>Client</strong>: Builds the abstract syntax tree representing a particular sentence in the language and invokes the interpret operation.</li>
</ol>
<h2 class="atx" id="implementation-in-java-14">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Expression</code> is an interface that declares the <code>interpret</code> method.</li>
<li><code>TerminalExpression</code> implements the <code>Expression</code> interface for terminal symbols.</li>
<li><code>AndExpression</code>, <code>OrExpression</code>, and <code>NotExpression</code> are non-terminal expressions that implement the <code>Expression</code> interface.</li>
<li><code>Context</code> provides a way to store and access variables or other information needed during interpretation.</li>
</ul>
<h3 class="atx" id="expression-interface">Expression Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Expression</span> <span class="token punctuation">{</span>
    <span class="token keyword">boolean</span> <span class="token function">interpret</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="terminal-expression">Terminal Expression</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TerminalExpression</span> <span class="token keyword">implements</span> <span class="token class-name">Expression</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> data<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">TerminalExpression</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">interpret</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> context<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="non-terminal-expressions">Non-terminal Expressions</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AndExpression</span> <span class="token keyword">implements</span> <span class="token class-name">Expression</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Expression</span> expr1<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Expression</span> expr2<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">AndExpression</span><span class="token punctuation">(</span><span class="token class-name">Expression</span> expr1<span class="token punctuation">,</span> <span class="token class-name">Expression</span> expr2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>expr1 <span class="token operator">=</span> expr1<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>expr2 <span class="token operator">=</span> expr2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">interpret</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> expr1<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> expr2<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrExpression</span> <span class="token keyword">implements</span> <span class="token class-name">Expression</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Expression</span> expr1<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Expression</span> expr2<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">OrExpression</span><span class="token punctuation">(</span><span class="token class-name">Expression</span> expr1<span class="token punctuation">,</span> <span class="token class-name">Expression</span> expr2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>expr1 <span class="token operator">=</span> expr1<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>expr2 <span class="token operator">=</span> expr2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">interpret</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> expr1<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">||</span> expr2<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NotExpression</span> <span class="token keyword">implements</span> <span class="token class-name">Expression</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Expression</span> expr<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">NotExpression</span><span class="token punctuation">(</span><span class="token class-name">Expression</span> expr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>expr <span class="token operator">=</span> expr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">interpret</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">!</span>expr<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="context">Context</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Context</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> variables <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span> variable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        variables<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>variable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">String</span> variable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        variables<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>variable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">contains</span><span class="token punctuation">(</span><span class="token class-name">String</span> variable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> variables<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>variable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        variables<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getVariables</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableSet</span><span class="token punctuation">(</span>variables<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-14">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InterpreterPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Define grammar</span>
        <span class="token class-name">Expression</span> john <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TerminalExpression</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Expression</span> robert <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TerminalExpression</span><span class="token punctuation">(</span><span class="token string">"Robert"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Expression</span> james <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TerminalExpression</span><span class="token punctuation">(</span><span class="token string">"James"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// John OR Robert</span>
        <span class="token class-name">Expression</span> johnOrRobert <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrExpression</span><span class="token punctuation">(</span>john<span class="token punctuation">,</span> robert<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// James AND (John OR Robert)</span>
        <span class="token class-name">Expression</span> jamesAndJohnOrRobert <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AndExpression</span><span class="token punctuation">(</span>james<span class="token punctuation">,</span> johnOrRobert<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// NOT James</span>
        <span class="token class-name">Expression</span> notJames <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NotExpression</span><span class="token punctuation">(</span>james<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create context</span>
        <span class="token class-name">Context</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Test expressions with different contexts</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Testing expressions with different contexts:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Context: James, John</span>
        context<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"James"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Context: "</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">getVariables</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"John OR Robert: "</span> <span class="token operator">+</span> johnOrRobert<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"James AND (John OR Robert): "</span> <span class="token operator">+</span> jamesAndJohnOrRobert<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"NOT James: "</span> <span class="token operator">+</span> notJames<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Context: James, Robert</span>
        context<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"James"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"Robert"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nContext: "</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">getVariables</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"John OR Robert: "</span> <span class="token operator">+</span> johnOrRobert<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"James AND (John OR Robert): "</span> <span class="token operator">+</span> jamesAndJohnOrRobert<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"NOT James: "</span> <span class="token operator">+</span> notJames<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Context: John</span>
        context<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nContext: "</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">getVariables</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"John OR Robert: "</span> <span class="token operator">+</span> johnOrRobert<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"James AND (John OR Robert): "</span> <span class="token operator">+</span> jamesAndJohnOrRobert<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"NOT James: "</span> <span class="token operator">+</span> notJames<span class="token punctuation">.</span><span class="token function">interpret</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-14">When to Use</h2>
<p>Use the Interpreter pattern when:</p>
<ol>
<li>The grammar of the language is simple. For complex grammars, there are better alternatives like parser generators.</li>
<li>Efficiency is not a critical concern. Interpreter patterns are typically not the most efficient solution.</li>
<li>You need to evaluate expressions in a specialized language or notation.</li>
<li>The problem can be represented as an abstract syntax tree.</li>
</ol>
<h2 class="atx" id="benefits-14">Benefits</h2>
<ol>
<li><strong>Flexibility</strong>: It's easy to change and extend the grammar.</li>
<li><strong>Expressiveness</strong>: You can represent complex expressions using simple grammar rules.</li>
<li><strong>Separation of concerns</strong>: The pattern separates grammar rules from the interpretation logic.</li>
<li><strong>Easy to implement</strong>: For simple languages, the pattern is straightforward to implement.</li>
</ol>
<h2 class="atx" id="drawbacks-14">Drawbacks</h2>
<ol>
<li><strong>Complexity for complex grammars</strong>: For complex languages, the class hierarchy can become unwieldy.</li>
<li><strong>Performance</strong>: Interpreting a sentence can be slow for complex expressions.</li>
<li><strong>Maintenance</strong>: Adding new expressions can require changes to multiple classes.</li>
<li><strong>Limited applicability</strong>: The pattern is only useful for certain types of problems.</li>
</ol>
<h2 class="atx" id="related-patterns-14">Related Patterns</h2>
<ul>
<li><strong>Composite</strong>: The abstract syntax tree is an instance of the Composite pattern.</li>
<li><strong>Flyweight</strong>: Can be used to share terminal symbols within the abstract syntax tree.</li>
<li><strong>Visitor</strong>: Can be used to maintain operations on the abstract syntax tree.</li>
<li><strong>Iterator</strong>: Can be used to traverse the abstract syntax tree.</li>
</ul>
<h2 class="atx" id="example-in-the-project-14">Example in the Project</h2>
<p>You can find the complete implementation of the Interpreter pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/interpreter/Expression.java">Expression Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/interpreter/TerminalExpression.java">TerminalExpression</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/interpreter/AndExpression.java">AndExpression</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/interpreter/OrExpression.java">OrExpression</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/interpreter/NotExpression.java">NotExpression</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/interpreter/Context.java">Context</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/interpreter/InterpreterPatternDemo.java">InterpreterPatternDemo</a></li>
</ul>
<h1 class="atx" id="iterator-pattern">Iterator Pattern</h1>
<p><img alt="Iterator Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/behaviour/iterator/Iterator_Pattern.png"></p>
<h2 class="atx" id="intent-15">Intent</h2>
<p>The Iterator pattern provides a way to access the elements of an aggregate object sequentially without exposing its underlying representation.</p>
<h2 class="atx" id="problem-15">Problem</h2>
<p>You need to access elements of a collection without exposing its internal structure. You also want to support multiple traversal methods for the same collection and potentially traverse multiple collections in a uniform way.</p>
<h2 class="atx" id="solution-15">Solution</h2>
<p>The Iterator pattern suggests extracting the traversal behavior of a collection into a separate object called an iterator. This iterator provides a standard way to access collection elements sequentially without exposing the collection's internal structure.</p>
<h2 class="atx" id="structure-15">Structure</h2>
<p>The Iterator pattern consists of:</p>
<ol>
<li><strong>Iterator</strong>: Defines an interface for accessing and traversing elements.</li>
<li><strong>ConcreteIterator</strong>: Implements the Iterator interface and keeps track of the current position in the traversal.</li>
<li><strong>Aggregate</strong>: Defines an interface for creating an Iterator object.</li>
<li><strong>ConcreteAggregate</strong>: Implements the Aggregate interface and returns an instance of the appropriate ConcreteIterator.</li>
</ol>
<h2 class="atx" id="implementation-in-java-15">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Iterator</code> is an interface that declares methods for traversing elements.</li>
<li><code>ConcreteIterator</code> implements the <code>Iterator</code> interface and keeps track of the current position.</li>
<li><code>Aggregate</code> is an interface that declares a method for creating an iterator.</li>
<li><code>ConcreteAggregate</code> implements the <code>Aggregate</code> interface and returns a new <code>ConcreteIterator</code>.</li>
</ul>
<h3 class="atx" id="iterator-interface">Iterator Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">boolean</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">T</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">T</span> <span class="token function">currentItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-iterator">Concrete Iterator</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> items<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> position<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ConcreteIterator</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> items<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> items<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> position <span class="token operator">&lt;</span> items<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NoSuchElementException</span><span class="token punctuation">(</span><span class="token string">"No more elements to iterate"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">T</span> item <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
        position<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> item<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">currentItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&gt;=</span> items<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NoSuchElementException</span><span class="token punctuation">(</span><span class="token string">"No current element"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> items<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="aggregate-interface">Aggregate Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Aggregate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token class-name">T</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">T</span> <span class="token function">getItem</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-aggregate">Concrete Aggregate</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteAggregate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Aggregate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token class-name">T</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        items<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> items<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getItem</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> index <span class="token operator">&gt;=</span> items<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IndexOutOfBoundsException</span><span class="token punctuation">(</span><span class="token string">"Index out of bounds"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> items<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-15">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IteratorPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create aggregate and add items</span>
        <span class="token class-name">Aggregate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> aggregate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteAggregate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        aggregate<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"Item 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        aggregate<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"Item 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        aggregate<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"Item 3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        aggregate<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"Item 4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        aggregate<span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token string">"Item 5"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create iterator</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> aggregate<span class="token punctuation">.</span><span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Traverse using iterator</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Traversing items:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Reset and traverse again</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nResetting iterator and traversing again:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        iterator<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Access specific item</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nAccessing specific item:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Item at index 2: "</span> <span class="token operator">+</span> aggregate<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Demonstrate current item</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nDemonstrating current item:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        iterator<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Move to first item</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Current item after one next(): "</span> <span class="token operator">+</span> iterator<span class="token punctuation">.</span><span class="token function">currentItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-15">When to Use</h2>
<p>Use the Iterator pattern when:</p>
<ol>
<li>You want to access a collection's contents without exposing its internal representation.</li>
<li>You want to support multiple traversal methods for a collection.</li>
<li>You want to provide a uniform interface for traversing different collection types.</li>
<li>You want to decouple algorithms from the collections they operate on.</li>
</ol>
<h2 class="atx" id="benefits-15">Benefits</h2>
<ol>
<li><strong>Single Responsibility Principle</strong>: Extraction of traversal behavior into a separate class adheres to the single responsibility principle.</li>
<li><strong>Open/Closed Principle</strong>: You can implement new types of collections and iterators without changing existing code.</li>
<li><strong>Simplified client code</strong>: Client code doesn't need to know the internal structure of the collection.</li>
<li><strong>Multiple iterators</strong>: You can have multiple iterators on the same collection, each with its own traversal state.</li>
<li><strong>Parallel iteration</strong>: Multiple threads can use separate iterators to traverse the same collection.</li>
</ol>
<h2 class="atx" id="drawbacks-15">Drawbacks</h2>
<ol>
<li><strong>Overhead</strong>: Using an iterator may be less efficient than accessing elements directly in simple collections.</li>
<li><strong>Complexity</strong>: Adds additional classes and interfaces to the codebase.</li>
<li><strong>Limited functionality</strong>: Basic iterators only support sequential access, not random access.</li>
<li><strong>Concurrent modification</strong>: If the collection is modified during iteration, the iterator may become invalid.</li>
</ol>
<h2 class="atx" id="related-patterns-15">Related Patterns</h2>
<ul>
<li><strong>Composite</strong>: Iterators are often used to traverse recursive structures like those defined by the Composite pattern.</li>
<li><strong>Factory Method</strong>: Iterators often use the Factory Method pattern to instantiate the appropriate iterator subclass.</li>
<li><strong>Memento</strong>: Can be used with Iterator to capture and restore an iterator's internal state.</li>
<li><strong>Visitor</strong>: Both patterns can be used to operate on elements of a complex object structure.</li>
</ul>
<h2 class="atx" id="example-in-the-project-15">Example in the Project</h2>
<p>You can find the complete implementation of the Iterator pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/iterator/Iterator.java">Iterator Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/iterator/ConcreteIterator.java">ConcreteIterator</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/iterator/Aggregate.java">Aggregate Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/iterator/ConcreteAggregate.java">ConcreteAggregate</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/iterator/IteratorPatternDemo.java">IteratorPatternDemo</a></li>
</ul>
<h1 class="atx" id="mediator-pattern">Mediator Pattern</h1>
<p><img alt="Mediator Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/behaviour/mediator/Mediator_Pattern.png"></p>
<h2 class="atx" id="intent-16">Intent</h2>
<p>The Mediator pattern defines an object that encapsulates how a set of objects interact. It promotes loose coupling by keeping objects from referring to each other explicitly, and it lets you vary their interaction independently.</p>
<h2 class="atx" id="problem-16">Problem</h2>
<p>When you have a set of objects that need to communicate with each other, direct connections between them can lead to a complex and tightly coupled system. As the number of objects grows, the connections between them grow exponentially, making the system hard to maintain and extend.</p>
<h2 class="atx" id="solution-16">Solution</h2>
<p>The Mediator pattern suggests creating a mediator object that handles all the communications between different objects (colleagues). Instead of objects communicating directly with each other, they communicate through the mediator, which reduces the dependencies between communicating objects.</p>
<h2 class="atx" id="structure-16">Structure</h2>
<p>The Mediator pattern consists of:</p>
<ol>
<li><strong>Mediator</strong>: Defines an interface for communicating with Colleague objects.</li>
<li><strong>ConcreteMediator</strong>: Implements the Mediator interface and coordinates communication between Colleague objects.</li>
<li><strong>Colleague</strong>: Defines an interface for objects that communicate through a mediator.</li>
<li><strong>ConcreteColleague</strong>: Implements the Colleague interface and communicates with other colleagues through its mediator.</li>
</ol>
<h2 class="atx" id="implementation-in-java-16">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Mediator</code> is an interface that declares methods for registering colleagues and facilitating communication.</li>
<li><code>ConcreteMediator</code> implements the <code>Mediator</code> interface and coordinates communication between colleagues.</li>
<li><code>Colleague</code> is an abstract class that defines common behavior for colleagues.</li>
<li><code>ConcreteColleagueA</code> and <code>ConcreteColleagueB</code> extend the <code>Colleague</code> class and communicate through the mediator.</li>
</ul>
<h3 class="atx" id="mediator-interface">Mediator Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Mediator</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">Colleague</span> colleague<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token class-name">Colleague</span> originator<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">displayCollaborationHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-mediator">Concrete Mediator</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteMediator</span> <span class="token keyword">implements</span> <span class="token class-name">Mediator</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Colleague</span><span class="token punctuation">&gt;</span></span> colleagues <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> collaborationHistory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">Colleague</span> colleague<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        colleagues<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>colleague<span class="token punctuation">)</span><span class="token punctuation">;</span>
        colleague<span class="token punctuation">.</span><span class="token function">setMediator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token class-name">Colleague</span> originator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> originatorName <span class="token operator">=</span> originator<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> historyEntry <span class="token operator">=</span> originatorName <span class="token operator">+</span> <span class="token string">" sent: "</span> <span class="token operator">+</span> message<span class="token punctuation">;</span>
        collaborationHistory<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>historyEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>originatorName <span class="token operator">+</span> <span class="token string">" sends message: "</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Notify all colleagues except the originator</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Colleague</span> colleague <span class="token operator">:</span> colleagues<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>colleague <span class="token operator">!=</span> originator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                colleague<span class="token punctuation">.</span><span class="token function">receiveMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> originator<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">displayCollaborationHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nCollaboration History:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> entry <span class="token operator">:</span> collaborationHistory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"- "</span> <span class="token operator">+</span> entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="colleague-abstract-class">Colleague Abstract Class</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Colleague</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">Mediator</span> mediator<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Colleague</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMediator</span><span class="token punctuation">(</span><span class="token class-name">Mediator</span> mediator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mediator <span class="token operator">=</span> mediator<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">receiveMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token class-name">Colleague</span> originator<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-colleagues">Concrete Colleagues</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteColleagueA</span> <span class="token keyword">extends</span> <span class="token class-name">Colleague</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">ConcreteColleagueA</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">" is sending message: "</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mediator<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receiveMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token class-name">Colleague</span> originator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">" received message from "</span> <span class="token operator">+</span> originator<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">": "</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Specific handling for ConcreteColleagueA</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteColleagueB</span> <span class="token keyword">extends</span> <span class="token class-name">Colleague</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">ConcreteColleagueB</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">" is sending message: "</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mediator<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receiveMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token class-name">Colleague</span> originator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">" received message from "</span> <span class="token operator">+</span> originator<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">": "</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Specific handling for ConcreteColleagueB</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-16">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MediatorPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create mediator</span>
        <span class="token class-name">Mediator</span> mediator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteMediator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create colleagues</span>
        <span class="token class-name">Colleague</span> colleagueA1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteColleagueA</span><span class="token punctuation">(</span><span class="token string">"Colleague A1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Colleague</span> colleagueA2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteColleagueA</span><span class="token punctuation">(</span><span class="token string">"Colleague A2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Colleague</span> colleagueB1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteColleagueB</span><span class="token punctuation">(</span><span class="token string">"Colleague B1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Colleague</span> colleagueB2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteColleagueB</span><span class="token punctuation">(</span><span class="token string">"Colleague B2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Register colleagues with mediator</span>
        mediator<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>colleagueA1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mediator<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>colleagueA2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mediator<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>colleagueB1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mediator<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>colleagueB2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Demonstrate communication</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Demonstration of Mediator Pattern:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        colleagueA1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"Hello from A1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        colleagueB1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"Hi there from B1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        colleagueA2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">"Greetings from A2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Display collaboration history</span>
        mediator<span class="token punctuation">.</span><span class="token function">displayCollaborationHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-16">When to Use</h2>
<p>Use the Mediator pattern when:</p>
<ol>
<li>A set of objects communicate in well-defined but complex ways, resulting in a tangled web of dependencies.</li>
<li>Reusing an object is difficult because it refers to and communicates with many other objects.</li>
<li>Behavior that's distributed between several classes should be customizable without a lot of subclassing.</li>
<li>You want to encapsulate how objects interact.</li>
</ol>
<h2 class="atx" id="benefits-16">Benefits</h2>
<ol>
<li><strong>Reduced coupling</strong>: The pattern reduces the coupling between components of a program by having them communicate indirectly through a mediator object.</li>
<li><strong>Simplified object protocols</strong>: The mediator replaces many-to-many interactions with one-to-many interactions.</li>
<li><strong>Centralized control</strong>: The communication logic is centralized in the mediator, making it easier to understand and maintain.</li>
<li><strong>Single Responsibility Principle</strong>: The pattern extracts the communications between various components into a separate class, satisfying the Single Responsibility Principle.</li>
<li><strong>Open/Closed Principle</strong>: You can introduce new mediators without changing the actual components.</li>
</ol>
<h2 class="atx" id="drawbacks-16">Drawbacks</h2>
<ol>
<li><strong>Mediator complexity</strong>: Over time, the mediator can evolve into a God Object, a class that knows too much or does too much.</li>
<li><strong>Centralized point of failure</strong>: If the mediator fails, the entire system can be affected.</li>
<li><strong>Performance overhead</strong>: All communication goes through the mediator, which can become a bottleneck.</li>
<li><strong>Increased indirection</strong>: The pattern introduces an additional level of indirection, which can make the code harder to follow.</li>
</ol>
<h2 class="atx" id="related-patterns-16">Related Patterns</h2>
<ul>
<li><strong>Observer</strong>: Mediator can use Observer to dynamically register colleagues and notify them of changes.</li>
<li><strong>Facade</strong>: Both patterns abstract functionality from existing classes, but Mediator abstracts mutual cooperation between classes, while Facade abstracts a subsystem of classes.</li>
<li><strong>Command</strong>: Commands can be used to encapsulate requests that colleagues send to the mediator.</li>
<li><strong>Singleton</strong>: The Mediator is often implemented as a Singleton to ensure a single point of coordination.</li>
</ul>
<h2 class="atx" id="example-in-the-project-16">Example in the Project</h2>
<p>You can find the complete implementation of the Mediator pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/mediator/Mediator.java">Mediator Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/mediator/ConcreteMediator.java">ConcreteMediator</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/mediator/Colleague.java">Colleague Abstract Class</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/mediator/ConcreteColleagueA.java">ConcreteColleagueA</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/mediator/ConcreteColleagueB.java">ConcreteColleagueB</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/mediator/MediatorPatternDemo.java">MediatorPatternDemo</a></li>
</ul>
<h1 class="atx" id="memento-pattern">Memento Pattern</h1>
<p><img alt="Memento Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/behaviour/memento/Memento_Pattern.png"></p>
<h2 class="atx" id="intent-17">Intent</h2>
<p>The Memento pattern lets you save and restore the previous state of an object without revealing the details of its implementation.</p>
<h2 class="atx" id="problem-17">Problem</h2>
<p>Sometimes you need to capture and externalize an object's internal state so that the object can be restored to this state later, but direct access to the object's internal state would violate encapsulation.</p>
<h2 class="atx" id="solution-17">Solution</h2>
<p>The Memento pattern suggests storing a snapshot of the object's state in a special object called a memento. The contents of the memento aren't accessible to any object except the one that created it. Other objects can communicate with mementos using a limited interface which may allow fetching metadata about the snapshot but not the state itself.</p>
<h2 class="atx" id="structure-17">Structure</h2>
<p>The Memento pattern consists of:</p>
<ol>
<li><strong>Originator</strong>: The object whose state needs to be saved and restored.</li>
<li><strong>Memento</strong>: The object that stores the internal state of the Originator.</li>
<li><strong>Caretaker</strong>: The object that keeps track of multiple mementos and decides when to save and restore the Originator's state.</li>
</ol>
<h2 class="atx" id="implementation-in-java-17">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Originator</code> is a class that creates a memento containing a snapshot of its current internal state and uses the memento to restore its internal state.</li>
<li><code>Memento</code> is a class that stores the internal state of the Originator object.</li>
<li><code>Caretaker</code> is a class that keeps track of multiple mementos and provides a way to save and restore the Originator's state.</li>
</ul>
<h3 class="atx" id="memento-1">Memento</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Memento</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> state<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">LocalDateTime</span> timestamp<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Memento</span><span class="token punctuation">(</span><span class="token class-name">String</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>timestamp <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">LocalDateTime</span> <span class="token function">getTimestamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> timestamp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">DateTimeFormatter</span> formatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"Memento [state="</span> <span class="token operator">+</span> state <span class="token operator">+</span> <span class="token string">", timestamp="</span> <span class="token operator">+</span> timestamp<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formatter<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="originator">Originator</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Originator</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> state<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token class-name">String</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Originator: Setting state to "</span> <span class="token operator">+</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Memento</span> <span class="token function">saveStateToMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Originator: Saving state to Memento"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Memento</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">restoreStateFromMemento</span><span class="token punctuation">(</span><span class="token class-name">Memento</span> memento<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        state <span class="token operator">=</span> memento<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Originator: State restored to "</span> <span class="token operator">+</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Originator [state="</span> <span class="token operator">+</span> state <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="caretaker">Caretaker</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Caretaker</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Memento</span><span class="token punctuation">&gt;</span></span> mementoList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addMemento</span><span class="token punctuation">(</span><span class="token class-name">Memento</span> memento<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mementoList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>memento<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Memento</span> <span class="token function">getMemento</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> index <span class="token operator">&gt;=</span> mementoList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IndexOutOfBoundsException</span><span class="token punctuation">(</span><span class="token string">"Invalid memento index"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> mementoList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">displayHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nCaretaker: Here's the list of saved states:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> mementoList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">": "</span> <span class="token operator">+</span> mementoList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getMementoCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mementoList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-17">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MementoPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Originator</span> originator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Originator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Caretaker</span> caretaker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Caretaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Set initial state</span>
        originator<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">"State #1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Current state: "</span> <span class="token operator">+</span> originator<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Save state</span>
        caretaker<span class="token punctuation">.</span><span class="token function">addMemento</span><span class="token punctuation">(</span>originator<span class="token punctuation">.</span><span class="token function">saveStateToMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Change state</span>
        originator<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">"State #2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Current state: "</span> <span class="token operator">+</span> originator<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Save state</span>
        caretaker<span class="token punctuation">.</span><span class="token function">addMemento</span><span class="token punctuation">(</span>originator<span class="token punctuation">.</span><span class="token function">saveStateToMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Change state again</span>
        originator<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">"State #3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Current state: "</span> <span class="token operator">+</span> originator<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Save state</span>
        caretaker<span class="token punctuation">.</span><span class="token function">addMemento</span><span class="token punctuation">(</span>originator<span class="token punctuation">.</span><span class="token function">saveStateToMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Change state once more</span>
        originator<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">"State #4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Current state: "</span> <span class="token operator">+</span> originator<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Display history</span>
        caretaker<span class="token punctuation">.</span><span class="token function">displayHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Restore to first saved state</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nRestoring to first saved state..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        originator<span class="token punctuation">.</span><span class="token function">restoreStateFromMemento</span><span class="token punctuation">(</span>caretaker<span class="token punctuation">.</span><span class="token function">getMemento</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Current state: "</span> <span class="token operator">+</span> originator<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Restore to second saved state</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nRestoring to second saved state..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        originator<span class="token punctuation">.</span><span class="token function">restoreStateFromMemento</span><span class="token punctuation">(</span>caretaker<span class="token punctuation">.</span><span class="token function">getMemento</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Current state: "</span> <span class="token operator">+</span> originator<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Restore to third saved state</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nRestoring to third saved state..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        originator<span class="token punctuation">.</span><span class="token function">restoreStateFromMemento</span><span class="token punctuation">(</span>caretaker<span class="token punctuation">.</span><span class="token function">getMemento</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Current state: "</span> <span class="token operator">+</span> originator<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-17">When to Use</h2>
<p>Use the Memento pattern when:</p>
<ol>
<li>You need to create snapshots of an object's state to be able to restore the object to its previous state.</li>
<li>Direct access to the object's fields/getters/setters would expose implementation details and break encapsulation.</li>
<li>You want to implement undo/redo functionality.</li>
<li>You need to implement checkpoints or save points in an application.</li>
</ol>
<h2 class="atx" id="benefits-17">Benefits</h2>
<ol>
<li><strong>Preserves encapsulation</strong>: The memento pattern preserves encapsulation by not exposing the originator's internal state.</li>
<li><strong>Simplifies the originator</strong>: The originator doesn't need to keep track of its history; that responsibility is delegated to the caretaker.</li>
<li><strong>Provides a clean recovery mechanism</strong>: The pattern provides a clean way to recover an object's state without violating encapsulation.</li>
<li><strong>Supports incremental changes</strong>: You can create mementos at various points and choose which one to restore from.</li>
</ol>
<h2 class="atx" id="drawbacks-17">Drawbacks</h2>
<ol>
<li><strong>Memory usage</strong>: Storing many mementos can consume a lot of memory, especially if the originator's state is large.</li>
<li><strong>Maintenance overhead</strong>: The caretaker might need to track the lifecycle of mementos and delete them when they're no longer needed.</li>
<li><strong>Potential performance issues</strong>: Creating and restoring mementos can be expensive operations if the originator's state is complex.</li>
<li><strong>Limited applicability</strong>: The pattern is only useful when you need to restore an object to a previous state.</li>
</ol>
<h2 class="atx" id="related-patterns-17">Related Patterns</h2>
<ul>
<li><strong>Command</strong>: Commands can use mementos to implement undoable operations.</li>
<li><strong>Iterator</strong>: Mementos can be used to capture the state of an iteration and restore it when needed.</li>
<li><strong>Prototype</strong>: The Memento pattern can use the Prototype pattern to create deep copies of the originator's state.</li>
<li><strong>Snapshot</strong>: A variation of the Memento pattern where the snapshot is created by the originator itself.</li>
</ul>
<h2 class="atx" id="example-in-the-project-17">Example in the Project</h2>
<p>You can find the complete implementation of the Memento pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/memento/Memento.java">Memento</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/memento/Originator.java">Originator</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/memento/Caretaker.java">Caretaker</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/memento/MementoPatternDemo.java">MementoPatternDemo</a></li>
</ul>
<h1 class="atx" id="observer-pattern">Observer Pattern</h1>
<p><img alt="Observer Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/behaviour/observer/Observer_Pattern.png"></p>
<h2 class="atx" id="intent-18">Intent</h2>
<p>The Observer pattern defines a one-to-many dependency between objects so that when one object changes state, all its dependents are notified and updated automatically.</p>
<h2 class="atx" id="problem-18">Problem</h2>
<p>You need to establish communication between objects without making them tightly coupled. For example, you have a subject (publisher) that needs to notify multiple observers (subscribers) about changes in its state, but you don't want the subject to know the concrete classes of observers.</p>
<h2 class="atx" id="solution-18">Solution</h2>
<p>The Observer pattern suggests defining a subscription mechanism to notify multiple objects about any events that happen to the object they're observing. The subject maintains a list of observers and notifies them automatically of any state changes, usually by calling one of their methods.</p>
<h2 class="atx" id="structure-18">Structure</h2>
<p>The Observer pattern consists of:</p>
<ol>
<li><strong>Subject</strong>: Knows its observers and provides an interface for attaching, detaching, and notifying observers.</li>
<li><strong>ConcreteSubject</strong>: Stores state of interest to observers and sends notifications when its state changes.</li>
<li><strong>Observer</strong>: Defines an interface for objects that should be notified of changes in a subject.</li>
<li><strong>ConcreteObserver</strong>: Maintains a reference to a ConcreteSubject object, stores state that should stay consistent with the subject's, and implements the Observer interface to keep its state consistent with the subject's.</li>
</ol>
<h2 class="atx" id="implementation-in-java-18">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Subject</code> is an interface that declares methods for attaching, detaching, and notifying observers.</li>
<li><code>ConcreteSubject</code> implements the <code>Subject</code> interface and maintains a list of observers.</li>
<li><code>Observer</code> is an interface that declares the update method called when the subject's state changes.</li>
<li><code>ConcreteObserverA</code> and <code>ConcreteObserverB</code> implement the <code>Observer</code> interface and update their state when notified.</li>
</ul>
<h3 class="atx" id="subject-interface-1">Subject Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">attach</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">detach</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">notifyObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-subject">Concrete Subject</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteSubject</span> <span class="token keyword">implements</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Observer</span><span class="token punctuation">&gt;</span></span> observers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> state<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attach</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        observers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">detach</span><span class="token punctuation">(</span><span class="token class-name">Observer</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        observers<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">notifyObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Observer</span> observer <span class="token operator">:</span> observers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            observer<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token class-name">String</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span>
        <span class="token function">notifyObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="observer-interface">Observer Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Subject</span> subject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-observers">Concrete Observers</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteObserverA</span> <span class="token keyword">implements</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> observerState<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ConcreteObserverA</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Subject</span> subject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>subject <span class="token keyword">instanceof</span> <span class="token class-name">ConcreteSubject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            observerState <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ConcreteSubject</span><span class="token punctuation">)</span> subject<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">" received update. New state: "</span> <span class="token operator">+</span> observerState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getObserverState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> observerState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteObserverB</span> <span class="token keyword">implements</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> observerState<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ConcreteObserverB</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Subject</span> subject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>subject <span class="token keyword">instanceof</span> <span class="token class-name">ConcreteSubject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            observerState <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ConcreteSubject</span><span class="token punctuation">)</span> subject<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">" received update. New state: "</span> <span class="token operator">+</span> observerState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getObserverState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> observerState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-18">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ObserverPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ConcreteSubject</span> subject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Observer</span> observerA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteObserverA</span><span class="token punctuation">(</span><span class="token string">"Observer A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Observer</span> observerB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteObserverB</span><span class="token punctuation">(</span><span class="token string">"Observer B"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        subject<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>observerA<span class="token punctuation">)</span><span class="token punctuation">;</span>
        subject<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>observerB<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Setting subject state to 'New State'"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subject<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">"New State"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nDetaching "</span> <span class="token operator">+</span> observerA<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subject<span class="token punctuation">.</span><span class="token function">detach</span><span class="token punctuation">(</span>observerA<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nSetting subject state to 'Another State'"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        subject<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">"Another State"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-18">When to Use</h2>
<p>Use the Observer pattern when:</p>
<ol>
<li>An abstraction has two aspects, one dependent on the other. Encapsulating these aspects in separate objects lets you vary and reuse them independently.</li>
<li>A change to one object requires changing others, and you don't know how many objects need to be changed.</li>
<li>An object should be able to notify other objects without making assumptions about who these objects are.</li>
<li>You need to maintain consistency between related objects without making them tightly coupled.</li>
</ol>
<h2 class="atx" id="benefits-18">Benefits</h2>
<ol>
<li><strong>Open/Closed Principle</strong>: You can introduce new subscriber classes without having to change the publisher's code.</li>
<li><strong>Loose coupling</strong>: Publishers are not tightly coupled to concrete subscriber classes.</li>
<li><strong>Dynamic relationships</strong>: You can establish relationships between objects at runtime.</li>
<li><strong>Broadcast communication</strong>: Notification is broadcast automatically to all interested objects.</li>
</ol>
<h2 class="atx" id="drawbacks-18">Drawbacks</h2>
<ol>
<li><strong>Unexpected updates</strong>: Subscribers are notified in an unpredictable order.</li>
<li><strong>Memory leaks</strong>: If observers forget to unsubscribe from the subject, they might not be garbage collected.</li>
<li><strong>Potential performance issues</strong>: If there are many observers or if the update operation is complex, notification can be costly.</li>
<li><strong>Indirect dependencies</strong>: It can be difficult to track the flow of updates through the system.</li>
</ol>
<h2 class="atx" id="related-patterns-18">Related Patterns</h2>
<ul>
<li><strong>Mediator</strong>: By encapsulating complex update semantics, the Observer pattern can lead to a more reusable Subject. The Mediator pattern can be used to coordinate complex update semantics.</li>
<li><strong>Singleton</strong>: The Subject can be a Singleton if there should be only one subject in the system.</li>
<li><strong>Command</strong>: Commands can be used to implement the update operation in the Observer pattern.</li>
<li><strong>Memento</strong>: Can be used to capture the state of the subject before notifying observers, allowing for undo operations.</li>
</ul>
<h2 class="atx" id="example-in-the-project-18">Example in the Project</h2>
<p>You can find the complete implementation of the Observer pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/observer/Subject.java">Subject Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/observer/ConcreteSubject.java">ConcreteSubject</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/observer/Observer.java">Observer Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/observer/ConcreteObserverA.java">ConcreteObserverA</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/observer/ConcreteObserverB.java">ConcreteObserverB</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/observer/ObserverPatternDemo.java">ObserverPatternDemo</a></li>
</ul>
<h1 class="atx" id="state-pattern">State Pattern</h1>
<p><img alt="State Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/behaviour/state/State_Pattern.png"></p>
<h2 class="atx" id="intent-19">Intent</h2>
<p>The State pattern allows an object to alter its behavior when its internal state changes. The object will appear to change its class.</p>
<h2 class="atx" id="problem-19">Problem</h2>
<p>An object's behavior depends on its state, and it must change its behavior at runtime depending on that state. Additionally, state-specific behavior should be defined independently so that new states can be added without affecting existing states.</p>
<h2 class="atx" id="solution-19">Solution</h2>
<p>The State pattern suggests creating new classes for all possible states of an object and extracting all state-specific behaviors into these classes. Instead of implementing all behaviors on its own, the original object, called context, stores a reference to one of the state objects that represents its current state, and delegates all the state-related work to that object.</p>
<h2 class="atx" id="structure-19">Structure</h2>
<p>The State pattern consists of:</p>
<ol>
<li><strong>Context</strong>: Maintains an instance of a ConcreteState subclass that defines the current state.</li>
<li><strong>State</strong>: Defines an interface for encapsulating the behavior associated with a particular state of the Context.</li>
<li><strong>ConcreteState</strong>: Each subclass implements a behavior associated with a state of the Context.</li>
</ol>
<h2 class="atx" id="implementation-in-java-19">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>State</code> is an interface that declares methods for state-specific behavior.</li>
<li><code>ConcreteStateA</code>, <code>ConcreteStateB</code>, and <code>ConcreteStateC</code> implement the <code>State</code> interface with different behaviors.</li>
<li><code>Context</code> maintains a reference to the current state and delegates state-specific behavior to it.</li>
</ul>
<h3 class="atx" id="state-interface">State Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">getStateName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-states">Concrete States</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteStateA</span> <span class="token keyword">implements</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteStateA handling request."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteStateA wants to change the state to ConcreteStateB."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcreteStateB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStateName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"State A"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteStateB</span> <span class="token keyword">implements</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteStateB handling request."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteStateB wants to change the state to ConcreteStateC."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcreteStateC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStateName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"State B"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteStateC</span> <span class="token keyword">implements</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteStateC handling request."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteStateC wants to change the state to ConcreteStateA."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcreteStateA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStateName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"State C"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="context-1">Context</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Context</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">State</span> state<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Context</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Default initial state</span>
        state <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteStateA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Context is initialized with "</span> <span class="token operator">+</span> state<span class="token punctuation">.</span><span class="token function">getStateName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token class-name">State</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"State changed to "</span> <span class="token operator">+</span> state<span class="token punctuation">.</span><span class="token function">getStateName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">State</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nContext: Delegating request to the current state."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        state<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-19">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StatePatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create context</span>
        <span class="token class-name">Context</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Make requests, which will trigger state changes</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nMaking first request..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nMaking second request..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nMaking third request..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nMaking fourth request..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Final state</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nFinal state: "</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStateName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-19">When to Use</h2>
<p>Use the State pattern when:</p>
<ol>
<li>An object's behavior depends on its state, and it must change its behavior at runtime depending on that state.</li>
<li>Operations have large, multipart conditional statements that depend on the object's state.</li>
<li>State-specific behavior should be defined independently so that new states can be added without affecting existing states.</li>
<li>State transitions are explicit and can be controlled.</li>
</ol>
<h2 class="atx" id="benefits-19">Benefits</h2>
<ol>
<li><strong>Single Responsibility Principle</strong>: Organizes the code related to particular states into separate classes.</li>
<li><strong>Open/Closed Principle</strong>: Introducing new states without changing existing state classes or the context.</li>
<li><strong>Eliminates conditional statements</strong>: Replaces conditional logic with polymorphism.</li>
<li><strong>Improves cohesion</strong>: Each state is represented by a single class, improving cohesion.</li>
<li><strong>Makes state transitions explicit</strong>: State transitions are explicit and can be controlled.</li>
</ol>
<h2 class="atx" id="drawbacks-19">Drawbacks</h2>
<ol>
<li><strong>Increased number of classes</strong>: The pattern introduces a new class for each possible state.</li>
<li><strong>Potential overuse</strong>: Applying the pattern when the state machine is simple might be overkill.</li>
<li><strong>State proliferation</strong>: If there are many states or transitions, the pattern can lead to a large number of classes.</li>
<li><strong>Shared state</strong>: If states need to share information, it can complicate the implementation.</li>
</ol>
<h2 class="atx" id="related-patterns-19">Related Patterns</h2>
<ul>
<li><strong>Strategy</strong>: State can be considered as an extension of Strategy. Both patterns are based on composition and delegate work to different objects, but State is specifically designed to allow an object to change its behavior when its internal state changes.</li>
<li><strong>Flyweight</strong>: State objects can be shared using the Flyweight pattern if they have no intrinsic state.</li>
<li><strong>Singleton</strong>: State objects are often singletons if they don't have any instance variables.</li>
<li><strong>Memento</strong>: Can be used with State to capture and restore the state of an object.</li>
</ul>
<h2 class="atx" id="example-in-the-project-19">Example in the Project</h2>
<p>You can find the complete implementation of the State pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/state/State.java">State Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/state/ConcreteStateA.java">ConcreteStateA</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/state/ConcreteStateB.java">ConcreteStateB</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/state/ConcreteStateC.java">ConcreteStateC</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/state/Context.java">Context</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/state/StatePatternDemo.java">StatePatternDemo</a></li>
</ul>
<h1 class="atx" id="strategy-pattern">Strategy Pattern</h1>
<p><img alt="Strategy Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/behaviour/strategy/Strategy_Pattern.png"></p>
<h2 class="atx" id="intent-20">Intent</h2>
<p>The Strategy pattern defines a family of algorithms, encapsulates each one, and makes them interchangeable. Strategy lets the algorithm vary independently from clients that use it.</p>
<h2 class="atx" id="problem-20">Problem</h2>
<p>You need to implement different variants of an algorithm, but you want to avoid conditional statements that select the appropriate variant. Additionally, you want to be able to switch algorithms at runtime.</p>
<h2 class="atx" id="solution-20">Solution</h2>
<p>The Strategy pattern suggests defining a family of algorithms, putting each of them into a separate class, and making their objects interchangeable. This way, you can select and switch between different algorithms at runtime without modifying the client code.</p>
<h2 class="atx" id="structure-20">Structure</h2>
<p>The Strategy pattern consists of:</p>
<ol>
<li><strong>Context</strong>: Maintains a reference to a Strategy object and delegates algorithm execution to it.</li>
<li><strong>Strategy</strong>: Declares an interface common to all supported algorithms.</li>
<li><strong>ConcreteStrategy</strong>: Implements the algorithm using the Strategy interface.</li>
</ol>
<h2 class="atx" id="implementation-in-java-20">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Strategy</code> is an interface that declares the <code>execute</code> method.</li>
<li><code>ConcreteStrategyA</code>, <code>ConcreteStrategyB</code>, and <code>ConcreteStrategyC</code> implement the <code>Strategy</code> interface with different algorithms.</li>
<li><code>Context</code> maintains a reference to a <code>Strategy</code> object and delegates the algorithm execution to it.</li>
</ul>
<h3 class="atx" id="strategy-interface">Strategy Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Strategy</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-strategies">Concrete Strategies</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteStrategyA</span> <span class="token keyword">implements</span> <span class="token class-name">Strategy</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteStrategyB</span> <span class="token keyword">implements</span> <span class="token class-name">Strategy</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteStrategyC</span> <span class="token keyword">implements</span> <span class="token class-name">Strategy</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="context-2">Context</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Context</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Strategy</span> strategy<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Context</span><span class="token punctuation">(</span><span class="token class-name">Strategy</span> strategy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>strategy <span class="token operator">=</span> strategy<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setStrategy</span><span class="token punctuation">(</span><span class="token class-name">Strategy</span> strategy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>strategy <span class="token operator">=</span> strategy<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">executeStrategy</span><span class="token punctuation">(</span><span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> strategy<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-20">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StrategyPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Context</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Context</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcreteStrategyA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> input <span class="token operator">=</span> <span class="token string">"Hello Strategy Pattern"</span><span class="token punctuation">;</span>

        <span class="token comment">// Using strategy A (uppercase)</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Strategy A: "</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">executeStrategy</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Changing to strategy B (lowercase)</span>
        context<span class="token punctuation">.</span><span class="token function">setStrategy</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcreteStrategyB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Strategy B: "</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">executeStrategy</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Changing to strategy C (reverse)</span>
        context<span class="token punctuation">.</span><span class="token function">setStrategy</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcreteStrategyC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Strategy C: "</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">executeStrategy</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-20">When to Use</h2>
<p>Use the Strategy pattern when:</p>
<ol>
<li>You want to use different variants of an algorithm within an object and be able to switch from one algorithm to another during runtime.</li>
<li>You have many related classes that differ only in their behavior.</li>
<li>You need different variants of an algorithm.</li>
<li>An algorithm uses data that clients shouldn't know about.</li>
<li>A class defines many behaviors, and these appear as multiple conditional statements in its operations.</li>
</ol>
<h2 class="atx" id="benefits-20">Benefits</h2>
<ol>
<li><strong>Encapsulation of algorithms</strong>: Each algorithm is encapsulated in its own class, making it easier to understand, maintain, and extend.</li>
<li><strong>Runtime flexibility</strong>: Algorithms can be switched at runtime.</li>
<li><strong>Elimination of conditional statements</strong>: Replaces conditional statements with polymorphism.</li>
<li><strong>Open/Closed Principle</strong>: New strategies can be added without modifying existing code.</li>
<li><strong>Separation of concerns</strong>: The client code is separated from the algorithm implementation.</li>
</ol>
<h2 class="atx" id="drawbacks-20">Drawbacks</h2>
<ol>
<li><strong>Increased number of objects</strong>: The pattern creates additional objects for each strategy.</li>
<li><strong>Client must be aware of different strategies</strong>: The client must understand how strategies differ to select the appropriate one.</li>
<li><strong>Communication overhead</strong>: Strategies might require data from the context, which can lead to communication overhead.</li>
</ol>
<h2 class="atx" id="related-patterns-20">Related Patterns</h2>
<ul>
<li><strong>Template Method</strong>: Template Method uses inheritance to vary part of an algorithm. Strategy uses delegation to vary the entire algorithm.</li>
<li><strong>State</strong>: State can be considered as an extension of Strategy. Both patterns are based on composition and delegate work to different objects, but State is specifically designed to allow an object to change its behavior when its internal state changes.</li>
<li><strong>Command</strong>: Command can be used to implement Strategy, where each command represents a different strategy.</li>
</ul>
<h2 class="atx" id="example-in-the-project-20">Example in the Project</h2>
<p>You can find the complete implementation of the Strategy pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/strategy/Strategy.java">Strategy Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/strategy/ConcreteStrategyA.java">ConcreteStrategyA</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/strategy/ConcreteStrategyB.java">ConcreteStrategyB</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/strategy/ConcreteStrategyC.java">ConcreteStrategyC</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/strategy/Context.java">Context</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/strategy/StrategyPatternDemo.java">StrategyPatternDemo</a></li>
</ul>
<h1 class="atx" id="template-method-pattern">Template Method Pattern</h1>
<p><img alt="Template Method Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/behaviour/template/Template_Method_Pattern.png"></p>
<h2 class="atx" id="intent-21">Intent</h2>
<p>The Template Method pattern defines the skeleton of an algorithm in a method, deferring some steps to subclasses. It lets subclasses redefine certain steps of an algorithm without changing the algorithm's structure.</p>
<h2 class="atx" id="problem-21">Problem</h2>
<p>You want to define the skeleton of an algorithm, but allow subclasses to redefine certain steps of the algorithm without changing its structure. You also want to avoid code duplication by implementing the invariant parts of the algorithm only once.</p>
<h2 class="atx" id="solution-21">Solution</h2>
<p>The Template Method pattern suggests defining a template method in a base class that outlines the skeleton of an algorithm. This method calls a series of other methods, some of which are implemented in the base class (invariant steps) and others that are left abstract for subclasses to implement (variant steps).</p>
<h2 class="atx" id="structure-21">Structure</h2>
<p>The Template Method pattern consists of:</p>
<ol>
<li><strong>AbstractClass</strong>: Defines abstract primitive operations that concrete subclasses define to implement steps of an algorithm. It implements a template method defining the skeleton of an algorithm.</li>
<li><strong>ConcreteClass</strong>: Implements the primitive operations to carry out subclass-specific steps of the algorithm.</li>
</ol>
<h2 class="atx" id="implementation-in-java-21">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>AbstractClass</code> is an abstract class that defines the template method and abstract operations.</li>
<li><code>ConcreteClassA</code> and <code>ConcreteClassB</code> extend the <code>AbstractClass</code> and implement the abstract operations.</li>
</ul>
<h3 class="atx" id="abstract-class">Abstract Class</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractClass</span> <span class="token punctuation">{</span>
    <span class="token comment">// Template method</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">templateMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"AbstractClass: Starting template method"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// These steps will be implemented by subclasses</span>
        <span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// This is a hook that subclasses may override</span>
        <span class="token function">hook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// This step is common for all subclasses</span>
        <span class="token function">commonStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"AbstractClass: Template method finished"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Abstract methods that must be implemented by subclasses</span>
    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Hook method with default implementation</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">hook</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Default implementation does nothing</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"AbstractClass: Default hook implementation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Common step implemented in the base class</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">commonStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"AbstractClass: This is a common step for all implementations"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-classes">Concrete Classes</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteClassA</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractClass</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteClassA: Implementing step 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteClassA: Implementing step 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">hook</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteClassA: Overriding hook method"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteClassB</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractClass</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteClassB: Implementing step 1 differently"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteClassB: Implementing step 2 differently"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Using default hook implementation from AbstractClass</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-21">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TemplateMethodPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Demonstrating Template Method Pattern\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Executing ConcreteClassA's template method:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">AbstractClass</span> classA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteClassA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        classA<span class="token punctuation">.</span><span class="token function">templateMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nExecuting ConcreteClassB's template method:"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">AbstractClass</span> classB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteClassB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        classB<span class="token punctuation">.</span><span class="token function">templateMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nNote how the overall algorithm structure remains the same,"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"but specific steps are implemented differently in each subclass."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Also note that ConcreteClassB uses the default hook implementation,"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"while ConcreteClassA overrides it."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-21">When to Use</h2>
<p>Use the Template Method pattern when:</p>
<ol>
<li>You want to implement the invariant parts of an algorithm once and leave it up to subclasses to implement the behavior that can vary.</li>
<li>Common behavior among subclasses should be factored and localized in a common class to avoid code duplication.</li>
<li>You want to control the points at which subclasses can extend the algorithm.</li>
<li>You want to enforce certain steps in an algorithm that must be included, while allowing flexibility in how those steps are implemented.</li>
</ol>
<h2 class="atx" id="benefits-21">Benefits</h2>
<ol>
<li><strong>Code reuse</strong>: The template method pattern promotes code reuse by factoring out common behavior into a base class.</li>
<li><strong>Control over algorithm steps</strong>: The pattern allows subclasses to redefine only certain steps of an algorithm without changing its structure.</li>
<li><strong>Inversion of control</strong>: The pattern follows the "Hollywood Principle" (don't call us, we'll call you), where the parent class calls the operations of a subclass and not the other way around.</li>
<li><strong>Enforces algorithm structure</strong>: The pattern ensures that the algorithm's structure stays intact even when subclasses override specific steps.</li>
</ol>
<h2 class="atx" id="drawbacks-21">Drawbacks</h2>
<ol>
<li><strong>Restricted flexibility</strong>: Subclasses can only override the steps provided by the template method, which might be restrictive in some cases.</li>
<li><strong>Violation of Liskov Substitution Principle</strong>: If subclasses override methods in a way that violates the base class's assumptions, it can lead to unexpected behavior.</li>
<li><strong>Maintenance challenges</strong>: Changes to the template method might require changes in all subclasses.</li>
<li><strong>Complexity</strong>: The pattern can make the code more complex if there are many steps or if the algorithm is subject to frequent changes.</li>
</ol>
<h2 class="atx" id="related-patterns-21">Related Patterns</h2>
<ul>
<li><strong>Strategy</strong>: Template Method uses inheritance to vary part of an algorithm, while Strategy uses delegation to vary the entire algorithm.</li>
<li><strong>Factory Method</strong>: Factory Method is often called from within Template Methods to create appropriate objects.</li>
<li><strong>Hook Operations</strong>: Template Method often includes hook operations that provide default behavior that subclasses can extend if needed.</li>
<li><strong>Decorator</strong>: Can be used with Template Method to add responsibilities to objects without changing their structure.</li>
</ul>
<h2 class="atx" id="example-in-the-project-21">Example in the Project</h2>
<p>You can find the complete implementation of the Template Method pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/template/AbstractClass.java">AbstractClass</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/template/ConcreteClassA.java">ConcreteClassA</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/template/ConcreteClassB.java">ConcreteClassB</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/template/TemplateMethodPatternDemo.java">TemplateMethodPatternDemo</a></li>
</ul>
<h1 class="atx" id="visitor-pattern">Visitor Pattern</h1>
<p><img alt="Visitor Pattern UML Diagram" src="file:///D:/IdeaProjects/gofPatterns/src/main/java/ua/bot/behaviour/visitor/Visitor_Pattern.png"></p>
<h2 class="atx" id="intent-22">Intent</h2>
<p>The Visitor pattern lets you separate algorithms from the objects on which they operate. It allows you to add new operations to existing object structures without modifying those structures.</p>
<h2 class="atx" id="problem-22">Problem</h2>
<p>You need to define a new operation on an entire class hierarchy without changing the classes in that hierarchy. Additionally, you want to keep related operations together rather than spreading them across the classes.</p>
<h2 class="atx" id="solution-22">Solution</h2>
<p>The Visitor pattern suggests placing the new behavior in a separate class called a visitor, instead of integrating it into existing classes. The original object that had to perform the behavior is now passed to one of the visitor's methods as an argument, providing the visitor with access to all necessary data.</p>
<h2 class="atx" id="structure-22">Structure</h2>
<p>The Visitor pattern consists of:</p>
<ol>
<li><strong>Visitor</strong>: Declares a visit operation for each class of ConcreteElement in the object structure.</li>
<li><strong>ConcreteVisitor</strong>: Implements each operation declared by Visitor.</li>
<li><strong>Element</strong>: Declares an accept operation that takes a visitor as an argument.</li>
<li><strong>ConcreteElement</strong>: Implements the accept operation that takes a visitor as an argument.</li>
<li><strong>ObjectStructure</strong>: Can enumerate its elements and may provide a high-level interface to allow the visitor to visit its elements.</li>
</ol>
<h2 class="atx" id="implementation-in-java-22">Implementation in Java</h2>
<p>In our implementation:</p>
<ul>
<li><code>Visitor</code> is an interface that declares visit methods for each type of element.</li>
<li><code>ConcreteVisitor1</code> and <code>ConcreteVisitor2</code> implement the <code>Visitor</code> interface with different behaviors.</li>
<li><code>Element</code> is an interface that declares the accept method.</li>
<li><code>ConcreteElementA</code> and <code>ConcreteElementB</code> implement the <code>Element</code> interface and define their accept methods.</li>
<li><code>ObjectStructure</code> maintains a collection of elements and provides a way to iterate over them.</li>
</ul>
<h3 class="atx" id="visitor-interface">Visitor Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Visitor</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">visit</span><span class="token punctuation">(</span><span class="token class-name">ConcreteElementA</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">visit</span><span class="token punctuation">(</span><span class="token class-name">ConcreteElementB</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-visitors">Concrete Visitors</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteVisitor1</span> <span class="token keyword">implements</span> <span class="token class-name">Visitor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">visit</span><span class="token punctuation">(</span><span class="token class-name">ConcreteElementA</span> element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteVisitor1: Processing ConcreteElementA"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Visitor-specific processing for ConcreteElementA</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  - Accessing element data: "</span> <span class="token operator">+</span> element<span class="token punctuation">.</span><span class="token function">getOperationA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  - Performing visitor-specific operation on element"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">visit</span><span class="token punctuation">(</span><span class="token class-name">ConcreteElementB</span> element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteVisitor1: Processing ConcreteElementB"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Visitor-specific processing for ConcreteElementB</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  - Accessing element data: "</span> <span class="token operator">+</span> element<span class="token punctuation">.</span><span class="token function">getOperationB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  - Performing visitor-specific operation on element"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteVisitor2</span> <span class="token keyword">implements</span> <span class="token class-name">Visitor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">visit</span><span class="token punctuation">(</span><span class="token class-name">ConcreteElementA</span> element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteVisitor2: Processing ConcreteElementA differently"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Different visitor-specific processing for ConcreteElementA</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  - Accessing element data: "</span> <span class="token operator">+</span> element<span class="token punctuation">.</span><span class="token function">getOperationA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  - Performing different visitor-specific operation on element"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">visit</span><span class="token punctuation">(</span><span class="token class-name">ConcreteElementB</span> element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ConcreteVisitor2: Processing ConcreteElementB differently"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Different visitor-specific processing for ConcreteElementB</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  - Accessing element data: "</span> <span class="token operator">+</span> element<span class="token punctuation">.</span><span class="token function">getOperationB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  - Performing different visitor-specific operation on element"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="element-interface">Element Interface</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Element</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Visitor</span> visitor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="concrete-elements">Concrete Elements</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteElementA</span> <span class="token keyword">implements</span> <span class="token class-name">Element</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Visitor</span> visitor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getOperationA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"ConcreteElementA specific data"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcreteElementB</span> <span class="token keyword">implements</span> <span class="token class-name">Element</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Visitor</span> visitor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        visitor<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getOperationB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"ConcreteElementB specific data"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="object-structure">Object Structure</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ObjectStructure</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Element</span><span class="token punctuation">&gt;</span></span> elements <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attach</span><span class="token punctuation">(</span><span class="token class-name">Element</span> element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        elements<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">detach</span><span class="token punctuation">(</span><span class="token class-name">Element</span> element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        elements<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Visitor</span> visitor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Element</span> element <span class="token operator">:</span> elements<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            element<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>visitor<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 class="atx" id="client-22">Client</h3>
<pre><code class="fenced-code-block language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VisitorPatternDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Create object structure</span>
        <span class="token class-name">ObjectStructure</span> objectStructure <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectStructure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        objectStructure<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcreteElementA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        objectStructure<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcreteElementB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Create visitors</span>
        <span class="token class-name">Visitor</span> visitor1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteVisitor1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Visitor</span> visitor2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteVisitor2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Use visitor1 to process all elements</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Client: Using ConcreteVisitor1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        objectStructure<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>visitor1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Use visitor2 to process all elements</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nClient: Using ConcreteVisitor2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        objectStructure<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>visitor2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"\nClient: Note how we can add new operations to existing object structures"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"without modifying those structures. We just need to create a new visitor."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 class="atx" id="when-to-use-22">When to Use</h2>
<p>Use the Visitor pattern when:</p>
<ol>
<li>An object structure contains many classes of objects with differing interfaces, and you want to perform operations on these objects that depend on their concrete classes.</li>
<li>Many distinct and unrelated operations need to be performed on objects in an object structure, and you want to avoid "polluting" their classes with these operations.</li>
<li>The classes defining the object structure rarely change, but you often want to define new operations over the structure.</li>
<li>You want to collect related operations into a single class rather than spreading them across multiple classes.</li>
</ol>
<h2 class="atx" id="benefits-22">Benefits</h2>
<ol>
<li><strong>Open/Closed Principle</strong>: You can introduce a new operation without changing the classes of the elements on which it operates.</li>
<li><strong>Single Responsibility Principle</strong>: Related behaviors are grouped in a visitor rather than spread across multiple classes.</li>
<li><strong>Accumulating state</strong>: Visitors can accumulate state as they visit each element in the object structure.</li>
<li><strong>Separation of concerns</strong>: The pattern separates the algorithm from the object structure on which it operates.</li>
</ol>
<h2 class="atx" id="drawbacks-22">Drawbacks</h2>
<ol>
<li><strong>Breaking encapsulation</strong>: Visitor might need access to the internal details of the elements it visits, which can break encapsulation.</li>
<li><strong>Rigid class hierarchy</strong>: Adding or removing element classes requires changing all visitor interfaces and implementations.</li>
<li><strong>Complexity</strong>: The pattern can be complex to implement and understand, especially for developers unfamiliar with it.</li>
<li><strong>Limited applicability</strong>: The pattern is most useful when the object structure is stable but operations change frequently.</li>
</ol>
<h2 class="atx" id="related-patterns-22">Related Patterns</h2>
<ul>
<li><strong>Composite</strong>: Visitors can be used to apply an operation over a Composite object structure.</li>
<li><strong>Interpreter</strong>: Visitor can be used to implement the interpretation process for different types of nodes in the abstract syntax tree.</li>
<li><strong>Iterator</strong>: Visitor and Iterator patterns can be used together to traverse a complex object structure.</li>
<li><strong>Command</strong>: Both patterns can be used to parameterize objects with operations.</li>
</ul>
<h2 class="atx" id="example-in-the-project-22">Example in the Project</h2>
<p>You can find the complete implementation of the Visitor pattern in the project:</p>
<ul>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/visitor/Visitor.java">Visitor Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/visitor/ConcreteVisitor1.java">ConcreteVisitor1</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/visitor/ConcreteVisitor2.java">ConcreteVisitor2</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/visitor/Element.java">Element Interface</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/visitor/ConcreteElementA.java">ConcreteElementA</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/visitor/ConcreteElementB.java">ConcreteElementB</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/visitor/ObjectStructure.java">ObjectStructure</a></li>
<li><a href="https://github.com/Merdoc97/gofPatterns/blob/master/src/main/java/ua/bot/behaviour/visitor/VisitorPatternDemo.java">VisitorPatternDemo</a></li>
</ul>
<h1 class="atx" id="conclusion">Conclusion</h1>
<h2 class="atx" id="design-pattern-relationships">Design Pattern Relationships</h2>
<p>Throughout this book, we've explored the 23 design patterns cataloged by the Gang of Four. While each pattern has been presented individually, it's important to understand that these patterns are not isolated solutions but form an interconnected language of design.</p>
<h3 class="atx" id="pattern-relationships">Pattern Relationships</h3>
<p>Many patterns complement each other and can be used together to solve complex design problems:</p>
<ol>
<li><p><strong>Creational and Structural Patterns</strong>: Creational patterns often produce objects that are used with structural patterns. For example, a Factory Method might create components for a Composite structure, or an Abstract Factory might create objects that are then adapted using the Adapter pattern.</p>
</li>
<li><p><strong>Structural and Behavioral Patterns</strong>: Structural patterns define how objects are composed, while behavioral patterns define how they communicate. For instance, a Composite structure might use the Visitor pattern to perform operations on its components, or a Decorator might use the Strategy pattern to dynamically change behavior.</p>
</li>
<li><p><strong>Patterns with Similar Structures</strong>: Some patterns have similar structures but different intents:</p>
<ul>
<li>Strategy and State have similar structures but different purposes</li>
<li>Adapter and Decorator both wrap objects but for different reasons</li>
<li>Composite and Decorator both rely on recursive composition</li>
</ul>
</li>
<li><p><strong>Patterns that Complement Each Other</strong>:</p>
<ul>
<li>Observer and Mediator both address communication between objects</li>
<li>Command and Memento can work together to implement undoable operations</li>
<li>Flyweight and Composite can be combined to optimize memory usage in tree structures</li>
</ul>
</li>
</ol>
<h3 class="atx" id="pattern-language">Pattern Language</h3>
<p>The concept of a "pattern language" suggests that patterns should not be applied in isolation but as part of a cohesive design vocabulary. When you become familiar with these patterns, you'll start to see opportunities to combine them in ways that leverage their individual strengths while mitigating their weaknesses.</p>
<h2 class="atx" id="anti-patterns">Anti-Patterns</h2>
<p>While design patterns represent best practices, anti-patterns represent common mistakes or poor solutions to recurring problems. Being aware of anti-patterns is just as important as knowing design patterns.</p>
<h3 class="atx" id="common-anti-patterns">Common Anti-Patterns</h3>
<ol>
<li><p><strong>Singleton Abuse</strong>: Overusing the Singleton pattern can lead to global state, tight coupling, and testing difficulties.</p>
</li>
<li><p><strong>God Object</strong>: Creating classes that know or do too much, violating the Single Responsibility Principle.</p>
</li>
<li><p><strong>Spaghetti Code</strong>: Code with complex and tangled control flow, making it difficult to understand and maintain.</p>
</li>
<li><p><strong>Golden Hammer</strong>: Trying to solve every problem with a favorite pattern or technology, regardless of its appropriateness.</p>
</li>
<li><p><strong>Premature Optimization</strong>: Optimizing code before it's necessary, often leading to more complex and less maintainable solutions.</p>
</li>
<li><p><strong>Analysis Paralysis</strong>: Overthinking design decisions to the point where progress stalls.</p>
</li>
<li><p><strong>Reinventing the Wheel</strong>: Building custom solutions for problems that already have well-established solutions.</p>
</li>
</ol>
<h3 class="atx" id="avoiding-anti-patterns">Avoiding Anti-Patterns</h3>
<p>To avoid anti-patterns:</p>
<ol>
<li><p><strong>Understand the Problem</strong>: Make sure you fully understand the problem before applying a pattern.</p>
</li>
<li><p><strong>Consider Alternatives</strong>: Always consider simpler alternatives before applying a complex pattern.</p>
</li>
<li><p><strong>Follow SOLID Principles</strong>: Adhere to solid object-oriented design principles.</p>
</li>
<li><p><strong>Refactor Regularly</strong>: Continuously improve your code to prevent anti-patterns from taking root.</p>
</li>
<li><p><strong>Code Reviews</strong>: Have others review your code to catch potential anti-patterns.</p>
</li>
</ol>
<h2 class="atx" id="design-patterns-in-modern-software-development">Design Patterns in Modern Software Development</h2>
<p>Design patterns continue to be relevant in modern software development, though their application has evolved:</p>
<ol>
<li><p><strong>Functional Programming</strong>: Some patterns become less necessary in functional programming languages, while others adapt to new forms.</p>
</li>
<li><p><strong>Microservices Architecture</strong>: Patterns like Adapter, Facade, and Proxy find new applications in service-oriented architectures.</p>
</li>
<li><p><strong>Reactive Programming</strong>: Patterns like Observer have evolved into reactive streams and event-driven architectures.</p>
</li>
<li><p><strong>Modern Frameworks</strong>: Many frameworks incorporate design patterns internally, allowing developers to use them implicitly.</p>
</li>
</ol>
<h2 class="atx" id="further-reading-and-resources">Further Reading and Resources</h2>
<p>To deepen your understanding of design patterns and software design, consider these resources:</p>
<h3 class="atx" id="books">Books</h3>
<ol>
<li><p><strong>"Design Patterns: Elements of Reusable Object-Oriented Software"</strong> by Erich Gamma, Richard Helm, Ralph Johnson, and John Vlissides - The original Gang of Four book.</p>
</li>
<li><p><strong>"Head First Design Patterns"</strong> by Eric Freeman and Elisabeth Robson - A more accessible introduction to design patterns.</p>
</li>
<li><p><strong>"Patterns of Enterprise Application Architecture"</strong> by Martin Fowler - Focuses on patterns for enterprise applications.</p>
</li>
<li><p><strong>"Refactoring: Improving the Design of Existing Code"</strong> by Martin Fowler - Discusses how to improve code design through refactoring.</p>
</li>
<li><p><strong>"Clean Code"</strong> by Robert C. Martin - Principles for writing maintainable, clean code.</p>
</li>
</ol>
<h3 class="atx" id="online-resources">Online Resources</h3>
<ol>
<li><p><strong><a href="https://refactoring.guru/">Refactoring.Guru</a></strong> - Comprehensive explanations of design patterns with examples in multiple languages.</p>
</li>
<li><p><strong><a href="https://sourcemaking.com/">SourceMaking</a></strong> - Design patterns, anti-patterns, refactoring, and UML.</p>
</li>
<li><p><strong><a href="https://www.tutorialspoint.com/design_pattern/index.htm">Design Patterns in Java Tutorial</a></strong> - Tutorials on implementing design patterns in Java.</p>
</li>
<li><p><strong><a href="https://github.com/iluwatar/java-design-patterns">GitHub - iluwatar/java-design-patterns</a></strong> - A collection of design pattern implementations in Java.</p>
</li>
</ol>
<h3 class="atx" id="communities-and-forums">Communities and Forums</h3>
<ol>
<li><p><strong>Stack Overflow</strong> - For specific questions about implementing design patterns.</p>
</li>
<li><p><strong>Reddit's r/programming and r/java</strong> - For discussions about programming practices and patterns.</p>
</li>
<li><p><strong>Medium</strong> - Many articles on modern applications of design patterns.</p>
</li>
</ol>
<h2 class="atx" id="final-thoughts">Final Thoughts</h2>
<p>Design patterns are tools in a developer's toolkit, not solutions to be applied blindly. The true value of understanding design patterns lies not just in knowing how to implement them, but in recognizing when they're appropriate and how they can be adapted to specific contexts.</p>
<p>As you continue your journey in software development, remember that the best designs often emerge from a deep understanding of the problem domain, combined with a thoughtful application of design principles and patterns. Keep learning, keep practicing, and keep refining your craft.</p>
<p>Thank you for exploring the world of design patterns with us. We hope this book serves as a valuable reference in your software development endeavors.</p>
</article>
  
</body>
</html>